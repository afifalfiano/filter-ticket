{"version":3,"file":"static/js/330.a1e3549b.chunk.js","mappings":"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","sources":["pages/profile/PreviewImage.jsx","pages/profile/ModalProfile.jsx","pages/profile/FormUpdateProfile.jsx","pages/profile/PreviewProfile.jsx","pages/profile/Profile.jsx"],"sourcesContent":["import { useDispatch } from 'react-redux';\r\nimport { useState } from 'react';\r\nimport { useChangeAvatarMutation } from '../../store/features/auth/authApiSlice';\r\nimport { notifChangeProfile } from '../../store/features/auth/authSlice';\r\nimport { setModal } from '../../store/features/modal/modalSlice';\r\nimport catchError from '../../services/catchError';\r\nimport handleResponse from '../../services/handleResponse';\r\nimport { Button, ButtonIconExit, ButtonUpload } from '../../components';\r\n\r\nfunction PreviewImage({ stateModal, getInfo }) {\r\n  const [avatar, setAvatar] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [changeAvatar] = useChangeAvatarMutation();\r\n  const dispatch = useDispatch();\r\n  const handleChange = (e) => {\r\n    setAvatar(URL.createObjectURL(e.target.files[0]));\r\n    setFile(e.target.files[0]);\r\n  }\r\n  const onBtnClose = () => {\r\n    const newState = {\r\n      ...stateModal,\r\n      profile: { ...stateModal.profile, showPreviewImageModal: false },\r\n    };\r\n    dispatch(setModal(newState));\r\n  };\r\n  const onSubmitData = async () => {\r\n    const formData = new FormData();\r\n    formData.append('avatar', file);\r\n    try {\r\n      const update = await changeAvatar(formData).unwrap();\r\n      if (update.status === 'success' || update.status === 'Success') {\r\n        handleResponse(update);\r\n        dispatch(notifChangeProfile('updated'));\r\n        setTimeout(() => {\r\n          getInfo({ status: 'success' });\r\n          onBtnClose();\r\n          dispatch(notifChangeProfile(null));\r\n        }, 2000);\r\n      } else {\r\n        catchError(update, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const onHandleReset = () => {\r\n    setFile(null);\r\n    setAvatar(null);\r\n    onBtnClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed w-screen h-screen bg-opacity-80 bg-gray-700 top-0 left-0 bottom-0 right-0 z-50 flex justify-center\">\r\n      <div className=\"modal-box mt-3  h-fit max-h-fit  max-w-lg\">\r\n        <ButtonIconExit onClick={onBtnClose} />\r\n\r\n        <h3 className=\"text-lg font-bold\">Preview Profile Baru</h3>\r\n        <hr className=\"my-2\" />\r\n        <div className=\"flex justify-center align-middle items-center  flex-col text-cennter\">\r\n          <ButtonUpload onChange={(e) => handleChange(e)} />\r\n          <div className=\"border rounded-md mt-5 p-5\">\r\n            {avatar && <img fetchpriority=\"high\" width={'100%'} height={'100%'} src={avatar} alt=\"avatar\" className=\"image-full max-w-md\" />}\r\n            {!avatar && <p>Belum ada gambar</p>}\r\n          </div>\r\n        </div>\r\n        <hr className=\"my-2 mt-10\" />\r\n\r\n        <div className=\"modal-action justify-center\">\r\n          <Button type=\"button\" onClick={() => onHandleReset()}>Batal</Button>\r\n          <Button type=\"button\" className=\"btn-success\" onClick={() => onSubmitData()}>Simpan</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PreviewImage;\r\n","import { HiQuestionMarkCircle } from 'react-icons/hi';\r\nimport { useDispatch } from 'react-redux';\r\nimport { clearModal, initState, setModal } from '../../store/features/modal/modalSlice';\r\nimport catchError from '../../services/catchError';\r\nimport handleResponse from '../../services/handleResponse';\r\nimport { useChangePasswordMutation, useLogoutMutation } from '../../store/features/auth/authApiSlice';\r\nimport { clearBTS } from '../../store/features/bts/btsSlice';\r\nimport { clearComplain } from '../../store/features/complain/complainSlice';\r\nimport { clearComplainHistory } from '../../store/features/complain_history/complainHistorySlice';\r\nimport { clearNotification } from '../../store/features/notification/notificationSlice';\r\nimport { clearReport } from '../../store/features/report/reportSlice';\r\nimport { clearRFO } from '../../store/features/rfo/rfoSlice';\r\nimport { clearShift } from '../../store/features/shift/shiftSlice';\r\nimport { clearSumberKeluhan } from '../../store/features/sumber_keluhan/sumberKeluhanSlice';\r\nimport { clearUsers } from '../../store/features/users/usersSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { setLogOut } from '../../store/features/auth/authSlice';\r\nimport { clearPOP } from '../../store/features/pop/popSlice';\r\nimport { clearTeam } from '../../store/features/team/teamSlice';\r\nimport { Button, ButtonIconExit } from '../../components';\r\n\r\nfunction ModalProfile({ stateModal, getInfo, detail, title, payload }) {\r\n\r\n  const [changePassword,] = useChangePasswordMutation();\r\n  const dispatch = useDispatch();\r\n  const onBtnClose = () => {\r\n    dispatch(setModal(initState));\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n\r\n  const [logout] = useLogoutMutation();\r\n\r\n  const onSubmitLogout = async (e) => {\r\n    try {\r\n      const userLogout = await logout().unwrap();\r\n      if (userLogout?.status === 'success' || userLogout?.status === 'Success') {\r\n        dispatch((action) => {\r\n          action(setLogOut());\r\n          action(clearBTS());\r\n          action(clearComplain());\r\n          action(clearComplainHistory());\r\n          action(clearModal());\r\n          action(clearNotification());\r\n          action(clearPOP());\r\n          action(clearReport());\r\n          action(clearRFO());\r\n          action(clearShift());\r\n          action(clearSumberKeluhan());\r\n          action(clearTeam());\r\n          action(clearUsers());\r\n        });\r\n        localStorage.clear();\r\n        navigate('/sign_in', { replace: true });\r\n      } else {\r\n        catchError(userLogout, true);\r\n      }\r\n\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n\r\n  }\r\n\r\n  const onSubmitDataChangePassword = async (payload) => {\r\n    try {\r\n      // create\r\n      let body;\r\n      if (payload.password.trim().length > 0 && payload.password_confirmation.trim().length > 0) {\r\n        body = {\r\n          name: payload.name,\r\n          pop_id: payload.pop_id,\r\n          role_id: payload?.role_id,\r\n          email: payload.email,\r\n          password: payload.password,\r\n          password_confirmation: payload.password_confirmation,\r\n        };\r\n      } else {\r\n        body = {\r\n          name: payload.name,\r\n          pop_id: payload.pop_id,\r\n          role_id: payload?.role_id,\r\n          email: payload.email,\r\n        };\r\n      }\r\n      const data = await changePassword(body).unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        handleResponse(data);\r\n        setTimeout(() => {\r\n          onSubmitLogout();\r\n        }, 1000)\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed w-screen h-screen bg-opacity-80 bg-gray-700 top-0 pt-10 left-0 bottom-0 right-0 z-50 flex justify-center\">\r\n      <div\r\n        className={`modal-box h-fit max-h-fit modal-box-custom`}\r\n      >\r\n        <ButtonIconExit onClick={onBtnClose} />\r\n        <h3 className=\"text-lg font-bold\">Ganti Password</h3>\r\n        <hr className=\"my-2\" />\r\n\r\n        <div className=\"flex flex-col justify-center align-middle items-center\">\r\n          <HiQuestionMarkCircle size={50} color=\"#FF2E00\" />\r\n\r\n          <p className=\"py-4\">Apakah anda yakin akan mengganti password akun? Jika ya, maka secara otomatis akun anda akan logout.</p>\r\n        </div>\r\n\r\n        <hr className=\"my-2 mt-5\" />\r\n        <div className=\"modal-action justify-center\">\r\n          <Button type=\"button\" onClick={() => onBtnClose()}>Batal</Button>\r\n          <Button type=\"button\" className=\"btn-success\" onClick={() => onSubmitDataChangePassword(payload)}>Simpan</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalProfile;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport { useEffect } from 'react';\r\nimport { HiPencil } from 'react-icons/hi';\r\nimport { selectCurrentUser } from '../../store/features/auth/authSlice';\r\nimport { selectAllPOP } from '../../store/features/pop/popSlice';\r\nimport { selectAllTeam } from '../../store/features/team/teamSlice';\r\nimport { selectBreadcrumb, updateBreadcrumb } from '../../store/features/breadcrumb/breadcrumbSlice';\r\nimport { ProfileSchema } from '../../utils/schema_validation_form';\r\nimport PreviewImage from './PreviewImage';\r\nimport { selectModalState, setModal } from '../../store/features/modal/modalSlice';\r\nimport ModalProfile from './ModalProfile';\r\nimport { useState } from 'react';\r\nimport { Button, Required, Modal } from '../../components';\r\n\r\nfunction FormUpdateProfile({ handleForm, profile }) {\r\n  const { data: user } = useSelector(selectCurrentUser);\r\n  const [valueForm, setValueForm] = useState(null);\r\n  const roleData = useSelector(selectAllTeam);\r\n  const popData = useSelector(selectAllPOP);\r\n\r\n  const dispatch = useDispatch()\r\n  const navigasi = useSelector(selectBreadcrumb);\r\n\r\n  useEffect(() => {\r\n    const dataNavigation = [...navigasi.data, { path: '/profile', title: 'Ubah Profil' }]\r\n    dispatch(updateBreadcrumb(dataNavigation));\r\n  }, [])\r\n\r\n  const onBtnBack = () => {\r\n    handleForm(false);\r\n  };\r\n\r\n  const getInfo = ($event) => {\r\n    if ($event.status === 'success') {\r\n      handleForm(false);\r\n    }\r\n  };\r\n\r\n  const stateModal = useSelector(selectModalState);\r\n  const openModal = (title, value) => {\r\n    let newState;\r\n    if (title === 'preview') {\r\n      newState = { ...stateModal, profile: { ...stateModal.profile, showPreviewImageModal: true } };\r\n    } else if (title === 'change-password') {\r\n      newState = { ...stateModal, change_password: { ...stateModal.change_password, showChangePasswordModal: true } };\r\n      setValueForm(value);\r\n    }\r\n    dispatch(setModal(newState));\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Modal>\r\n        {stateModal?.profile?.showPreviewImageModal && <PreviewImage stateModal={stateModal} getInfo={getInfo} />}\r\n        {stateModal?.change_password?.showChangePasswordModal && <ModalProfile stateModal={stateModal} getInfo={getInfo} payload={valueForm} />}\r\n      </Modal>\r\n      <Formik\r\n        enableReinitialize\r\n        validationSchema={ProfileSchema}\r\n        initialValues={{\r\n          name: profile?.name, email: profile?.email, pop_id: user?.pop_id, role_id: user?.role_id, old_password: '', password: '', password_confirmation: ''\r\n        }}\r\n        onSubmit={(values) => {\r\n          // onSubmitData(values);\r\n          openModal('change-password', values);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          isValid,\r\n          handleBlur,\r\n          handleChange,\r\n        }) => (\r\n          <Form>\r\n            <div className=\"flex items-start justify-center\">\r\n              <div className=\"text-center\">\r\n                <div className=\"avatar\">\r\n                  <div className=\"bg-neutral-focus text-neutral-content rounded-full w-24\">\r\n                    <span className=\"text-3xl\">\r\n                      <img fetchpriority=\"high\" width={'100%'} height={'100%'} src={profile?.avatar} alt={profile?.name} />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex justify-center\">\r\n                  <HiPencil\r\n                    size={24}\r\n                    className=\"link link-primary\"\r\n                    onClick={() => {\r\n                      openModal('preview')\r\n                    }}\r\n                  />\r\n                </div>\r\n                <h1 className=\"font-semibold text-xl mt-5\">Ubah Informasi</h1>\r\n                <div className=\"my-5 flex flex-col lg:flex-row justify-center gap-7\">\r\n                  <div className=\"border-gray-200 rounded-md border-2 w-80 h-auto items-center flex-1 flex-row justify-center\">\r\n                    <div className=\"px-5 py-5\">\r\n                      <div className=\"form-control\">\r\n                        <label htmlFor=\"fullName\" className=\"label\">\r\n                          <span className=\"label-text\"> Nama Lengkap:</span>\r\n                        </label>\r\n\r\n                        <Field\r\n                          id=\"name\"\r\n                          name=\"name\"\r\n                          placeholder=\"\"\r\n                          disabled={user?.role_id !== 3}\r\n                          value={values.name}\r\n                          onBlur={handleBlur}\r\n                          onChange={handleChange}\r\n                          className=\"input input-md input-bordered  max-w-full\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"form-control\">\r\n                        <label htmlFor=\"email\" className=\"label\">\r\n                          <span className=\"label-text\"> Email:</span>\r\n                        </label>\r\n\r\n                        <Field\r\n                          type=\"email\"\r\n                          component=\"input\"\r\n                          id=\"email\"\r\n                          name=\"email\"\r\n                          onBlur={handleBlur}\r\n                          onChange={handleChange}\r\n                          placeholder=\"email@citra.net\"\r\n                          value={values.email}\r\n                          disabled={user?.role_id !== 3}\r\n                          className=\"input input-md input-bordered  max-w-full\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"form-control\">\r\n                        <label htmlFor=\"team\" className=\"label\">\r\n                          <span className=\"label-text\"> Tim:</span>\r\n                        </label>\r\n\r\n                        <Field\r\n                          component=\"select\"\r\n                          id=\"role_id\"\r\n                          name=\"role_id\"\r\n                          value={values?.role_id}\r\n                          onBlur={handleBlur}\r\n                          disabled={user?.role_id !== 3}\r\n                          onChange={handleChange}\r\n                          className=\"select w-full max-w-full input-bordered\"\r\n                        >\r\n                          {roleData?.data?.map((item, index) => (\r\n                            <option\r\n                              key={index}\r\n                              id={item.id_role}\r\n                              value={item.id_role}\r\n                              label={item.role}\r\n                            >\r\n                              {item.role}\r\n                            </option>\r\n                          ))}\r\n                        </Field>\r\n                      </div>\r\n\r\n                      <div className=\"form-control\">\r\n                        <label htmlFor=\"location\" className=\"label\">\r\n                          <span className=\"label-text\"> POP (Area Operasional):</span>\r\n                        </label>\r\n\r\n                        <Field\r\n                          component=\"select\"\r\n                          id=\"pop_id\"\r\n                          name=\"pop_id\"\r\n                          value={values.pop_id}\r\n                          disabled={user?.role_id !== 3}\r\n                          onBlur={handleBlur}\r\n                          onChange={handleChange}\r\n                          className=\"select w-full max-w-full input-bordered\"\r\n                        >\r\n                          {popData?.data?.map((item, index) => (\r\n                            <option key={index} value={item.id_pop} label={item.pop}>\r\n                              {item.pop}\r\n                            </option>\r\n                          ))}\r\n                        </Field>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"border-gray-200 rounded-md border-2 w-80 h-auto items-center flex-1 flex-row justify-center\">\r\n                    <div className=\"px-5 py-5\">\r\n                      <div className=\"form-control \">\r\n                        <label htmlFor=\"password\" className=\"label\">\r\n                          <span className=\"label-text\"> Password:</span>\r\n                        </label>\r\n                        <Field\r\n                          type=\"password\"\r\n                          component=\"input\"\r\n                          id=\"password\"\r\n                          name=\"password\"\r\n                          placeholder=\"***************\"\r\n                          onBlur={handleBlur}\r\n                          onChange={handleChange}\r\n                          value={values.password}\r\n                          className=\"input input-md input-bordered  max-w-full\"\r\n                        />\r\n                        {errors.password && touched.password && <Required errors={errors.password} />}\r\n                      </div>\r\n\r\n                      <div className=\"form-control \">\r\n                        <label htmlFor=\"password_confirmation\" className=\"label\">\r\n                          <span className=\"label-text\">\r\n                            Konfirmsi Password:\r\n                          </span>\r\n                        </label>\r\n                        <Field\r\n                          type=\"password\"\r\n                          id=\"password_confirmation\"\r\n                          name=\"password_confirmation\"\r\n                          placeholder=\"***************\"\r\n                          onBlur={handleBlur}\r\n                          onChange={handleChange}\r\n                          value={values.password_confirmation}\r\n                          className=\"input input-md input-bordered  max-w-full\"\r\n                        />\r\n                        {errors.password_confirmation\r\n                          && touched.password_confirmation && <Required errors={errors.password_confirmation} />}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-nowrap gap-5 justify-center\">\r\n                  <Button type=\"button\" onClick={() => onBtnBack()}>Kembali</Button>\r\n                  <Button type=\"submit\" className=\"btn-success\">Simpan</Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormUpdateProfile;\r\n","import { HiPencilAlt } from \"react-icons/hi\";\r\n\r\n\r\nfunction PreviewProfile({ ...props }) {\r\n  return (\r\n    <div className=\"flex items-start justify-center\">\r\n      <div className=\"text-center\">\r\n        <div className=\"avatar\">\r\n          <div className=\"bg-neutral-focus text-neutral-content rounded-full w-24\">\r\n            <span className=\"text-3xl\">\r\n              <img fetchpriority=\"high\" width={'100%'} height={'100%'} src={props.profile?.avatar} alt={props.profile?.name} />\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <h1 className=\"font-semibold text-xl mt-5\">{props.profile?.name}</h1>\r\n        <div className=\"my-5 flex justify-center\">\r\n          <div className=\"border-gray-200 rounded-md border-2 w-80 h-48 items-center flex-row justify-center\">\r\n            <div className=\"flex pt-1 px-1 justify-end\">\r\n              <HiPencilAlt\r\n                size={30}\r\n                className=\"link\"\r\n                onClick={props.handleUpdateProfile}\r\n              />\r\n            </div>\r\n            <div className=\"px-5 py-5\">\r\n              <table className=\"border-none items-center w-full font-semibold\">\r\n                <tbody>\r\n                  <tr className=\"text-left\">\r\n                    <td>Email</td>\r\n                    <td>:</td>\r\n                    <td>{props.profile?.email}</td>\r\n                  </tr>\r\n                  <tr className=\"text-left\">\r\n                    <td>Role</td>\r\n                    <td>:</td>\r\n                    <td>{props.profile?.role?.role}</td>\r\n                  </tr>\r\n                  <tr className=\"text-left\">\r\n                    <td>POP</td>\r\n                    <td>:</td>\r\n                    <td>{props.profile?.pop?.pop}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PreviewProfile","import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormUpdateProfile from './FormUpdateProfile';\r\nimport { selectCurrentUser } from '../../store/features/auth/authSlice';\r\nimport catchError from '../../services/catchError';\r\nimport { useAllPOPMutation } from '../../store/features/pop/popApiSlice';\r\nimport { useAllTeamMutation } from '../../store/features/team/teamApiSlice';\r\nimport { selectAllPOP, setPOP } from '../../store/features/pop/popSlice';\r\nimport { selectAllTeam, setTeam } from '../../store/features/team/teamSlice';\r\nimport { updateBreadcrumb } from '../../store/features/breadcrumb/breadcrumbSlice';\r\nimport { useGetProfileMutation } from '../../store/features/auth/authApiSlice';\r\nimport PreviewProfile from './PreviewProfile';\r\n\r\nfunction Profile() {\r\n  const dispatch = useDispatch();\r\n  const [form, setForm] = useState(false);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  const [, setCurrentRole] = useState(null);\r\n  const [, setCurrentPop] = useState(null);\r\n\r\n  const { data: user } = useSelector(selectCurrentUser);\r\n  const role = useSelector(selectAllTeam);\r\n  const pop = useSelector(selectAllPOP);\r\n  const [allPOP] = useAllPOPMutation();\r\n  const [allTeam] = useAllTeamMutation();\r\n  const [getProfile] = useGetProfileMutation();\r\n\r\n  const doGetProfile = async () => {\r\n    try {\r\n      const data = await getProfile().unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        setProfile(data.data);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const getAllPOP = async () => {\r\n    try {\r\n      const data = await allPOP().unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        dispatch(setPOP({ ...data }));\r\n        const index = pop?.data?.find((item) => item.id_pop === user.pop_id);\r\n        setCurrentPop(index);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const getAllTeam = async () => {\r\n    try {\r\n      const data = await allTeam().unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        dispatch(setTeam({ ...data }));\r\n        const index = role?.data?.find((item) => +item.id_role === +user?.role_id);\r\n        setCurrentRole(index);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(updateBreadcrumb([{ path: '/profile', title: 'Profil' }]));\r\n    getAllPOP();\r\n    getAllTeam();\r\n    doGetProfile();\r\n  }, [form]);\r\n\r\n  const handleUpdateProfile = (event) => {\r\n    setForm(true);\r\n  };\r\n\r\n  const handleForm = (event) => {\r\n    setForm(event);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {form ? (\r\n        <FormUpdateProfile handleForm={handleForm} profile={profile} />\r\n      ) : (\r\n        <PreviewProfile profile={profile} handleUpdateProfile={() => handleUpdateProfile()} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Profile;\r\n"],"names":["stateModal","getInfo","useState","avatar","setAvatar","file","setFile","useChangeAvatarMutation","changeAvatar","dispatch","useDispatch","onBtnClose","newState","profile","showPreviewImageModal","setModal","onSubmitData","formData","FormData","append","unwrap","update","status","handleResponse","notifChangeProfile","setTimeout","catchError","className","onClick","onChange","e","URL","createObjectURL","target","files","handleChange","fetchpriority","width","height","src","alt","type","detail","title","payload","useChangePasswordMutation","changePassword","initState","navigate","useNavigate","useLogoutMutation","logout","onSubmitLogout","userLogout","action","setLogOut","clearBTS","clearComplain","clearComplainHistory","clearModal","clearNotification","clearPOP","clearReport","clearRFO","clearShift","clearSumberKeluhan","clearTeam","clearUsers","localStorage","clear","replace","onSubmitDataChangePassword","body","password","trim","length","password_confirmation","name","pop_id","role_id","email","data","size","color","handleForm","user","useSelector","selectCurrentUser","valueForm","setValueForm","roleData","selectAllTeam","popData","selectAllPOP","navigasi","selectBreadcrumb","useEffect","dataNavigation","path","updateBreadcrumb","$event","selectModalState","openModal","value","change_password","showChangePasswordModal","window","scrollTo","enableReinitialize","validationSchema","ProfileSchema","initialValues","old_password","onSubmit","values","errors","touched","handleBlur","isValid","htmlFor","id","placeholder","disabled","onBlur","component","map","item","index","id_role","label","role","id_pop","pop","props","handleUpdateProfile","form","setForm","setProfile","setCurrentRole","setCurrentPop","useAllPOPMutation","allPOP","useAllTeamMutation","allTeam","useGetProfileMutation","getProfile","doGetProfile","getAllPOP","setPOP","find","getAllTeam","setTeam","event"],"sourceRoot":""}