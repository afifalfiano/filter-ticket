{"version":3,"file":"static/js/107.f1a0d730.chunk.js","mappings":"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","sources":["pages/dashboard/detail/DashboardDetail.jsx","pages/reason_of_outage/detail_mandiri/RFODetailSingle.jsx"],"sourcesContent":["/* eslint-disable no-undef */\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\r\nimport { Formik, Form } from 'formik';\r\nimport { useAddReplyMutation, useComplainByIdMutation, useLampiranFileBalasanMutation } from '../../../store/features/complain/complainApiSlice';\r\nimport { setComplainById } from '../../../store/features/complain/complainSlice';\r\nimport { selectBreadcrumb, updateBreadcrumb } from '../../../store/features/breadcrumb/breadcrumbSlice';\r\nimport { selectCurrentUser } from '../../../store/features/auth/authSlice';\r\nimport { ReplySchema } from '../../../utils/schema_validation_form';\r\nimport { usePostNotificationMutation, useReadAllNotificationComplainMutation, useStoreAllNotificationMutation } from '../../../store/features/notification/notificationApiSlice';\r\nimport catchError from '../../../services/catchError';\r\nimport handleResponse from '../../../services/handleResponse';\r\nimport { Button, Progress, FirstComplain, SectionInformation, UploadFile, TextEditor } from '../../../components';\r\n\r\nfunction DashboardDetail({ rfoSingle, idComplain }) {\r\n  const location = useLocation();\r\n  const [detailComplain, setDetailComplain] = useState(null);\r\n  const [resetTextEditor, setResetTextEditor] = useState(false);\r\n  const [filesLocal, setFilesLocal] = useState([]);\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [complainById] = useComplainByIdMutation();\r\n  const [addReply] = useAddReplyMutation();\r\n\r\n  const dispatch = useDispatch();\r\n  const [lampiranFileBalasan] = useLampiranFileBalasanMutation();\r\n  const [storeAllNotification] = useStoreAllNotificationMutation();\r\n  let [countRequest, setCountRequest] = useState(0);\r\n\r\n  const navigasi = useSelector(selectBreadcrumb);\r\n  const onHandleFileUpload = ($event) => {\r\n    setFilesLocal($event);\r\n  }\r\n\r\n  const getComplainById = async () => {\r\n    try {\r\n      let idConditional;\r\n      if (idComplain !== undefined) {\r\n        idConditional = idComplain;\r\n      } else {\r\n        idConditional = id;\r\n      }\r\n      const data = await complainById(idConditional).unwrap();\r\n      dispatch(setComplainById({ ...data }));\r\n      setDetailComplain(data.data);\r\n      if (countRequest === 0) {\r\n        if (window.location.href.includes('/dashboard/detail/')) {\r\n          doReadAllNotification(data.data);\r\n        }\r\n      }\r\n      setCountRequest(countRequest++);\r\n    } catch (error) {\r\n      catchError(error, true)\r\n    }\r\n  };\r\n\r\n  const { data: user } = useSelector(selectCurrentUser);\r\n  const historyUrl = location.pathname.includes('history');\r\n  const [postNotification] = usePostNotificationMutation();\r\n\r\n  const [readAllNotificationComplain] = useReadAllNotificationComplainMutation()\r\n\r\n  const doReadAllNotification = async (data) => {\r\n    const body = {\r\n      keluhan_id: data.id_keluhan\r\n    };\r\n    try {\r\n      await readAllNotificationComplain({ body }).unwrap();\r\n      // getAllNotification();\r\n    } catch (error) {\r\n      catchError(error, false);\r\n      throw new Error(\"Unsuccess read all notification\");\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getComplainById();\r\n    if (idComplain === undefined) {\r\n      const data = [...navigasi.data, { path: `/dashboard/detail/${id}`, title: 'Detail Dasbor' }]\r\n      dispatch(updateBreadcrumb(data))\r\n\r\n      setTimeout(() => {\r\n        window.scrollTo(0, document.body.scrollHeight);\r\n      }, 500);\r\n\r\n      const intervalId = setInterval(() => {\r\n        getComplainById();\r\n      }, 30000);\r\n      return () => {\r\n        clearInterval(intervalId);\r\n      };\r\n    }\r\n  }, [])\r\n\r\n  const doPostNotification = async (keluhan_id) => {\r\n    try {\r\n      const body = {\r\n        keluhan_id,\r\n        pop_id: user.pop_id,\r\n        id_response: 1\r\n      }\r\n      const data = await postNotification({ body }).unwrap();\r\n      return data;\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  }\r\n\r\n  const doStoreAllNotiification = async (notifikasi_id) => {\r\n    try {\r\n      const body = {\r\n        notifikasi_id,\r\n      }\r\n      const data = await storeAllNotification({ body }).unwrap();\r\n      return data;\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  }\r\n\r\n  const onSubmitData = async (payload, resetForm) => {\r\n    try {\r\n      const body = {\r\n        balasan: payload.balasan,\r\n        user_id: user.id_user,\r\n        keluhan_id: detailComplain.id_keluhan\r\n      }\r\n      const add = await addReply({ ...body });\r\n      if (add.data.status === 'success' || add.data.status === 'Success') {\r\n        resetForm()\r\n        setResetTextEditor(true);\r\n        handleResponse(add);\r\n        if (filesLocal.length > 0) {\r\n          const formData = new FormData();\r\n          formData.append('balasan_id', add?.data?.id_balasan);\r\n          for (let index = 0; index < filesLocal.length; index++) {\r\n            formData.append(`path[${index}]`, filesLocal[index])\r\n          }\r\n\r\n          await lampiranFileBalasan({ body: formData }).unwrap();\r\n        }\r\n        const dataNotification = await doPostNotification(detailComplain.id_keluhan);\r\n        if (dataNotification?.status === 'Success' || dataNotification?.status === 'success') {\r\n          const dataPost = await doStoreAllNotiification(dataNotification?.notifikasi?.id_notifikasi);\r\n          if (dataPost?.status === 'Success' || dataPost?.status === 'success') {\r\n            getComplainById();\r\n            setResetTextEditor(false);\r\n          } else {\r\n            catchError(dataPost, true);\r\n            setResetTextEditor(false);\r\n          }\r\n        } else {\r\n          setResetTextEditor(false);\r\n          catchError(dataNotification, true);\r\n        }\r\n      } else {\r\n        catchError(add, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!rfoSingle && <SectionInformation detailComplain={detailComplain} />}\r\n\r\n      <div className=\"flex w-full flex-col py-5\">\r\n        <FirstComplain detailComplain={detailComplain} />\r\n        <hr />\r\n\r\n        {\r\n          detailComplain?.balasan.length > 0 && detailComplain?.balasan.map((item, index) => (\r\n            <Progress item={item} key={index} />\r\n          ))\r\n        }\r\n\r\n        {!historyUrl && !rfoSingle && detailComplain?.status === 'open'\r\n          ? (\r\n            <Formik\r\n              enableReinitialize\r\n              validationSchema={ReplySchema}\r\n              initialValues={{ balasan: '' }}\r\n              onSubmit={(values, { resetForm }) => {\r\n                onSubmitData(values, resetForm);\r\n              }}\r\n            >\r\n              {({\r\n                values,\r\n                errors,\r\n                touched,\r\n                isValid,\r\n                setFieldValue\r\n              }) => (\r\n                <Form id='answer'>\r\n                  <div className=\"form-control\">\r\n                    <label htmlFor=\"balasan\" className=\"label\">\r\n                      <span className=\"label-text\"> Balasan</span>\r\n                    </label>\r\n                    <TextEditor\r\n                      setFieldValue={(val) => setFieldValue('balasan', val)}\r\n                      value={values.balasan}\r\n                      resetData={resetTextEditor}\r\n                    />\r\n                    {errors.balasan && touched.balasan ? (\r\n                      <div className=\"label label-text text-red-500\">{errors.balasan}</div>\r\n                    ) : null}\r\n                  </div>\r\n\r\n                  <UploadFile getFile={onHandleFileUpload} />\r\n                  <div className=\"text-center items-center justify-center mt-10\">\r\n                    <Button className={`mr-5`} onClick={() => navigate('/dashboard')}>Kembali</Button>\r\n                    <Button type={\"submit\"} disabled={!isValid} className={`btn-success`}>Simpan</Button>\r\n                  </div>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          ) : !rfoSingle && (\r\n            <div className=\"text-center items-center justify-center mt-10\">\r\n              <Button className={`mr-5`} onClick={() => historyUrl ? navigate('/history_dashboard') : navigate('/dashboard')}>Kembali</Button>\r\n            </div>\r\n          )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DashboardDetail;\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams, useSearchParams } from 'react-router-dom';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport { useRfoByIdMutation, useUpdateRFOKeluhanMutation } from '../../../store/features/rfo/rfoApiSlice';\r\nimport { setRFOById } from '../../../store/features/rfo/rfoSlice';\r\nimport DashboardDetail from '../../dashboard/detail/DashboardDetail';\r\nimport { selectCurrentUser } from '../../../store/features/auth/authSlice';\r\nimport { selectBreadcrumb, updateBreadcrumb } from '../../../store/features/breadcrumb/breadcrumbSlice';\r\nimport { RFOSingleSchema } from '../../../utils/schema_validation_form';\r\nimport catchError from '../../../services/catchError';\r\nimport handleResponse from '../../../services/handleResponse';\r\nimport { Button, Required, SectionInformation } from '../../../components';\r\n\r\nfunction RFODetailSingle() {\r\n  const { id } = useParams();\r\n  const [searchParams] = useSearchParams();\r\n  const isEditData = searchParams.get('edit');\r\n  const [rfoById, { isSuccess }] = useRfoByIdMutation();\r\n  const [detailRFO, setDetailRFO] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const getRFOKeluhanById = async () => {\r\n    try {\r\n      const data = await rfoById(id).unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        dispatch(setRFOById(data));\r\n        setDetailRFO(data.data);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const navigasi = useSelector(selectBreadcrumb);\r\n\r\n  useEffect(() => {\r\n    const data = [...navigasi.data, { path: `/reason_of_outage/detail_single/${id}`, title: 'Detail Reason For Outage' }]\r\n    dispatch(updateBreadcrumb(data))\r\n    getRFOKeluhanById();\r\n  }, []);\r\n\r\n  const initialValues = {\r\n    problem: detailRFO?.problem || '',\r\n    action: detailRFO?.action || '',\r\n    deskripsi: detailRFO?.action || '',\r\n    mulai_gangguan: detailRFO?.mulai_gangguan || '',\r\n    selesai_gangguan: detailRFO?.selesai_gangguan || '',\r\n    nomor_tiket: detailRFO?.nomor_tiket || '',\r\n    durasi: detailRFO?.durasi || '',\r\n    lampiran: detailRFO?.lampiran || '',\r\n  };\r\n\r\n  const [updateRFOKeluhan] = useUpdateRFOKeluhanMutation();\r\n\r\n  const { data: user } = useSelector(selectCurrentUser);\r\n\r\n  const onSubmitData = async (payload) => {\r\n    const start = new Date(detailRFO?.keluhan.created_at);\r\n    const endTime = detailRFO?.keluhan?.balasan?.length > 0\r\n      ? detailRFO?.keluhan?.balasan[detailRFO?.keluhan?.balasan?.length - 1].created_at\r\n      : detailRFO?.keluhan?.created_at;\r\n    const end = new Date(endTime);\r\n    const formatStart = `${start.getFullYear()}-${start.getMonth().toString().length === 1 ? `0${start.getMonth() + 1}` : start.getMonth() + 1}-${start.getDate().toString().length === 1 ? `0${start.getDate()}` : start.getDate()} 12:00:00.000`;\r\n    const formatEnd = `${end.getFullYear()}-${end.getMonth().toString().length === 1 ? `0${end.getMonth() + 1}` : end.getMonth() + 1}-${end.getDate().toString().length === 1 ? `0${end.getDate()}` : end.getDate()} 12:00:00.000`;\r\n    const body = {\r\n      nomor_tiket: payload.nomor_tiket,\r\n      mulai_keluhan: formatStart,\r\n      selesai_keluhan: formatEnd,\r\n      problem: payload.problem,\r\n      action: payload.action,\r\n      status: 'closed',\r\n      keluhan_id: detailRFO.keluhan.id_keluhan,\r\n      deskripsi: payload.deskripsi,\r\n      user_id: user.id_user,\r\n    };\r\n    try {\r\n      // create\r\n      const update = await updateRFOKeluhan({ id, body }).unwrap();\r\n      if (update?.status === 'success' || update?.status === 'Success') {\r\n        handleResponse(update);\r\n        setTimeout(() => {\r\n          navigate('/reason_of_outage', { replace: true })\r\n          dispatch(setRFOById({ data: {} }));\r\n        }, 1000)\r\n      } else {\r\n        catchError(update, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const btnBack = () => {\r\n    dispatch(setRFOById({ data: {} }));\r\n    navigate('/reason_of_outage');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SectionInformation detailComplain={detailRFO?.keluhan} />\r\n      <div className=\"flex w-full gap-5 mt-5 flex-col-reverse lg:flex-row\">\r\n        <div className=\"flex-1 w-full mt-5\">\r\n          <h1 className=\"text-center font-semibold\">Reason For Outage Keluhan</h1>\r\n\r\n          <Formik\r\n            enableReinitialize\r\n            validationSchema={RFOSingleSchema}\r\n            initialValues={initialValues}\r\n            onSubmit={(values, { resetForm }) => {\r\n              onSubmitData(values, resetForm);\r\n            }}\r\n          >\r\n            {({\r\n              values,\r\n              errors,\r\n              touched,\r\n              isValid,\r\n              handleChange,\r\n              handleBlur,\r\n            }) => (\r\n              <Form>\r\n                <div className=\"flex flex-col gap-3\">\r\n                  <div className=\"form-control\">\r\n                    <label htmlFor=\"problem\" className=\"label\">\r\n                      <span className=\"label-text\"> Masalah:</span>\r\n                    </label>\r\n\r\n                    <Field\r\n                      id=\"problem\"\r\n                      name=\"problem\"\r\n                      placeholder=\"Masalah\"\r\n                      value={values.problem}\r\n                      component=\"textarea\"\r\n                      onBlur={handleBlur}\r\n                      onChange={handleChange}\r\n                      disabled={!isEditData}\r\n                      className=\"textarea textarea-bordered h-24\"\r\n                    />\r\n                    {errors.problem && touched.problem && <Required errors={errors.problem} />}\r\n                  </div>\r\n\r\n                  <div className=\"form-control\">\r\n                    <label htmlFor=\"action\" className=\"label\">\r\n                      <span className=\"label-text\"> Aksi:</span>\r\n                    </label>\r\n\r\n                    <Field\r\n                      id=\"action\"\r\n                      name=\"action\"\r\n                      placeholder=\"Aksi\"\r\n                      value={values.action}\r\n                      component=\"textarea\"\r\n                      onBlur={handleBlur}\r\n                      onChange={handleChange}\r\n                      disabled={!isEditData}\r\n                      className=\"textarea textarea-bordered h-24\"\r\n                    />\r\n                    {errors.action && touched.action && <Required errors={errors.action} />}\r\n                  </div>\r\n\r\n                  <div className=\"form-control\">\r\n                    <label htmlFor=\"deskripsi\" className=\"label\">\r\n                      <span className=\"label-text\"> Deskripsi:</span>\r\n                    </label>\r\n\r\n                    <Field\r\n                      id=\"deskripsi\"\r\n                      name=\"deskripsi\"\r\n                      placeholder=\"Deskripsi\"\r\n                      value={values.deskripsi}\r\n                      component=\"textarea\"\r\n                      onBlur={handleBlur}\r\n                      disabled={!isEditData}\r\n                      onChange={handleChange}\r\n                      className=\"textarea textarea-bordered h-24\"\r\n                    />\r\n                    {errors.deskripsi && touched.deskripsi && <Required errors={errors.deskripsi} />}\r\n                  </div>\r\n\r\n                  <div className=\"flex flex-col lg:flex-row gap-5\">\r\n                    <div className=\"form-control flex-1\">\r\n                      <label htmlFor=\"mulai_gangguan\" className=\"label\">\r\n                        <span className=\"label-text\"> Waktu Mulai Keluhan</span>\r\n                      </label>\r\n\r\n                      <Field\r\n                        id=\"mulai_gangguan\"\r\n                        name=\"mulai_gangguan\"\r\n                        placeholder=\"\"\r\n                        value={new Date(\r\n                          detailRFO?.keluhan?.created_at\r\n                        ).toLocaleString('id-ID')}\r\n                        type=\"text\"\r\n                        onBlur={handleBlur}\r\n                        onChange={handleChange}\r\n                        disabled\r\n                        className=\"input input-md input-bordered  max-w-full\"\r\n                      />\r\n                      {errors.mulai_gangguan && touched.mulai_gangguan && <Required errors={errors.mulai_gangguan} />}\r\n                    </div>\r\n\r\n                    <div className=\"form-control flex-1\">\r\n                      <label htmlFor=\"selesai_gangguan\" className=\"label\">\r\n                        <span className=\"label-text\">\r\n\r\n                          Waktu Selesai Keluhan\r\n                        </span>\r\n                      </label>\r\n\r\n                      <Field\r\n                        id=\"selesai_gangguan\"\r\n                        name=\"selesai_gangguan\"\r\n                        placeholder=\"\"\r\n                        value={\r\n                          detailRFO?.keluhan?.balasan.length > 0\r\n                            ? new Date(\r\n                              detailRFO?.keluhan?.balasan[\r\n                                detailRFO?.keluhan?.balasan?.length - 1\r\n                              ]?.created_at\r\n                            ).toLocaleString('id-ID')\r\n                            : new Date(\r\n                              detailRFO?.keluhan?.created_at\r\n                            ).toLocaleString('id-ID')\r\n                        }\r\n                        type=\"text\"\r\n                        onBlur={handleBlur}\r\n                        onChange={handleChange}\r\n                        disabled\r\n                        className=\"input input-md input-bordered  max-w-full\"\r\n                      />\r\n                      {errors.selesai_gangguan && touched.selesai_gangguan && <Required errors={errors.selesai_gangguan} />}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex gap-3 mt-2\">\r\n                  <div className=\"form-control flex-1\">\r\n                    <label htmlFor=\"nomor_tiket\" className=\"label\">\r\n                      <span className=\"label-text\">\r\n                        Tiket Pelaporan (Opsional)\r\n                      </span>\r\n                    </label>\r\n\r\n                    <Field\r\n                      id=\"nomor_tiket\"\r\n                      name=\"nomor_tiket\"\r\n                      placeholder=\"\"\r\n                      value={values.nomor_tiket}\r\n                      type=\"text\"\r\n                      disabled={!isEditData}\r\n                      onBlur={handleBlur}\r\n                      onChange={handleChange}\r\n                      className=\"input input-md input-bordered  max-w-full\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"modal-action justify-center mt-10\">\r\n                  <Button type=\"button\" className=\"mr-5\" onClick={() => btnBack()} >Kembali</Button>\r\n                  {isEditData && <Button disabled={!isValid} type=\"submit\" className=\"btn-success\">Simpan</Button>}\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n\r\n        <div className=\" border-gray-100 border-2\" />\r\n\r\n        <div\r\n          className=\"flex-1 overflow-auto mt-6 w-full\"\r\n          style={{ height: '50rem' }}\r\n        >\r\n          <h1 className=\"text-center font-semibold\">\r\n            Riwayat Follow Up Keluhan\r\n          </h1>\r\n\r\n          {isSuccess && (\r\n            <DashboardDetail rfoSingle idComplain={detailRFO?.keluhan?.id_keluhan} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default RFODetailSingle;\r\n"],"names":["rfoSingle","idComplain","location","useLocation","useState","detailComplain","setDetailComplain","resetTextEditor","setResetTextEditor","filesLocal","setFilesLocal","id","useParams","navigate","useNavigate","useComplainByIdMutation","complainById","useAddReplyMutation","addReply","dispatch","useDispatch","useLampiranFileBalasanMutation","lampiranFileBalasan","useStoreAllNotificationMutation","storeAllNotification","countRequest","setCountRequest","navigasi","useSelector","selectBreadcrumb","onHandleFileUpload","$event","getComplainById","idConditional","undefined","unwrap","data","setComplainById","window","href","includes","doReadAllNotification","catchError","user","selectCurrentUser","historyUrl","pathname","usePostNotificationMutation","postNotification","useReadAllNotificationComplainMutation","readAllNotificationComplain","body","keluhan_id","id_keluhan","Error","useEffect","path","title","updateBreadcrumb","setTimeout","scrollTo","document","scrollHeight","intervalId","setInterval","clearInterval","doPostNotification","pop_id","id_response","doStoreAllNotiification","notifikasi_id","onSubmitData","payload","resetForm","balasan","user_id","id_user","add","status","handleResponse","length","formData","FormData","append","id_balasan","index","dataNotification","notifikasi","id_notifikasi","dataPost","className","map","item","onClick","enableReinitialize","validationSchema","ReplySchema","initialValues","onSubmit","values","errors","touched","isValid","setFieldValue","htmlFor","val","value","resetData","getFile","type","disabled","useSearchParams","isEditData","get","useRfoByIdMutation","rfoById","isSuccess","detailRFO","setDetailRFO","getRFOKeluhanById","setRFOById","problem","action","deskripsi","mulai_gangguan","selesai_gangguan","nomor_tiket","durasi","lampiran","useUpdateRFOKeluhanMutation","updateRFOKeluhan","start","Date","keluhan","created_at","endTime","end","formatStart","getFullYear","getMonth","toString","getDate","formatEnd","mulai_keluhan","selesai_keluhan","update","replace","RFOSingleSchema","handleChange","handleBlur","name","placeholder","component","onBlur","onChange","toLocaleString","style","height"],"sourceRoot":""}