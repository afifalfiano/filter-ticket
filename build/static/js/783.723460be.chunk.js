"use strict";(self.webpackChunkfilter_ticket=self.webpackChunkfilter_ticket||[]).push([[783],{22783:function(e,a,n){n.r(a);var t=n(74165),l=n(15861),i=n(70885),r=n(72791),s=n(95048),u=n(16871),c=n(11803),o=n(26290),d=n(58812),h=n(74102),f=n(14450),v=n(80184),x=["No","Pelanggan","Waktu Gangguan","Durasi","Masalah","Keterangan","Status RFO","Aksi"];a.default=function(){var e=(0,r.useState)("sendiri"),a=(0,i.Z)(e,2),n=a[0],g=a[1],p=(0,u.s0)(),j=(0,r.useState)([]),m=(0,i.Z)(j,2),k=m[0],_=m[1],w=(0,s.I0)(),b=(0,d.Km)(),Z=(0,i.Z)(b,2),S=Z[0],N=Z[1].isLoading,C=(0,s.v9)(h.nE),R=(0,r.useState)(""),D=(0,i.Z)(R,2),F=D[0],O=D[1],K=(0,r.useState)(1),P=(0,i.Z)(K,2),y=P[0],E=P[1],L=(0,r.useState)([5]),M=(0,i.Z)(L,2),W=M[0],z=M[1],A=(0,r.useState)([1]),G=(0,i.Z)(A,2),H=G[0],I=G[1],Q=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var a,n,l,i,r,s,u=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>0&&void 0!==u[0]?u[0]:1,n="?page=".concat(a),e.prev=2,e.next=5,S(n).unwrap();case 5:if("success"===(l=e.sent).status||"Success"===l.status){for(i=l.data.data,w((0,h.PO)({data:i})),_(i),E(l.data.current_page),z([l.data.per_page]),r=[],s=0;s<l.data.last_page;s++)r.push(s+1);I(r)}else _([]),(0,c.Z)(l,!0);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),_([]),(0,c.Z)(e.t0,!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){w((0,o.oi)([{path:"/reason_of_outage",title:"Reason For Outage Keluhan"}])),g("sendiri"),Q()}),[]),(0,v.jsxs)("div",{children:[!N&&(0,v.jsxs)("div",{className:"flex gap-5 flex-col md:flex md:flex-row",children:[(0,v.jsx)("div",{className:"form-control w-full md:w-52",children:(0,v.jsx)(f.e4,{defaultValue:n,data:(0,v.jsx)("option",{value:"sendiri",label:"RFO Keluhan",children:"RFO Keluhan"})})}),(0,v.jsx)(f.ol,{search:F,onHandleSearch:function(e){if(e.preventDefault(),O(e.target.value),e.target.value.length>0){var a=new RegExp(F,"ig"),n=C.filter((function(e){var n,t;if(e.problem.match(a)||null!==e&&void 0!==e&&null!==(n=e.keluhan)&&void 0!==n&&n.nama_pelanggan.match(a)||null!==e&&void 0!==e&&null!==(t=e.keluhan)&&void 0!==t&&t.id_pelanggan.match(a))return e}));_(n)}else{var t=C.filter((function(e){return e}));_(t)}},placeholder:"Cari data RFO keluhan..."})]}),N&&(0,v.jsx)(f.cY,{countRows:8,countColumns:10,totalFilter:2}),!N&&(0,v.jsx)("div",{className:"overflow-x-auto mt-8",children:(0,v.jsxs)("table",{className:"table table-zebra w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:x.map((function(e,a){return(0,v.jsx)("th",{className:"text-center",children:e},a)}))})}),(0,v.jsx)("tbody",{children:k.map((function(e,a){var n,t;return(0,v.jsxs)("tr",{className:"text-center",children:[(0,v.jsx)("th",{children:a+1}),(0,v.jsxs)("td",{children:[null===e||void 0===e||null===(n=e.keluhan)||void 0===n?void 0:n.id_pelanggan," - ",null===e||void 0===e||null===(t=e.keluhan)||void 0===t?void 0:t.nama_pelanggan]}),(0,v.jsxs)("td",{className:"text-left",children:[(0,v.jsxs)("p",{children:["Dibuat:",new Date(null===e||void 0===e?void 0:e.mulai_keluhan).toLocaleString()]}),(0,v.jsxs)("p",{children:["Diubah:",new Date(null===e||void 0===e?void 0:e.selesai_keluhan).toLocaleString()]})]}),(0,v.jsx)("td",{children:(null===e||void 0===e?void 0:e.durasi)||0}),(0,v.jsx)("td",{children:null===e||void 0===e?void 0:e.problem}),(0,v.jsx)("td",{children:(null===e||void 0===e?void 0:e.deskripsi)||"-"}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"badge badge-info text-white",children:"closed"})}),(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"flex flex-row gap-3 justify-center",children:[(0,v.jsx)(f.W,{onClick:function(){return function(e){p("/reason_of_outage/detail_single/".concat(e.id_rfo_keluhan,"?edit=true"))}(e)}}),(0,v.jsx)(f.CQ,{onClick:function(){return function(e){p("/reason_of_outage/detail_single/".concat(e.id_rfo_keluhan))}(e)}})]})})]},a)}))})]})}),!N&&(0,v.jsx)(f.tl,{perPage:W,currentPage:y,countPage:H,onClick:function(e){return Q(e.target.id)},serverMode:!0})]})}}}]);
//# sourceMappingURL=783.723460be.chunk.js.map