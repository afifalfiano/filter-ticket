{"version":3,"file":"static/js/35.c1a786d1.chunk.js","mappings":"oXA6JA,MA5JA,YAAqC,IAAD,cAARA,EAAQ,oBAChC,OACI,iBACAC,GAAG,iBACHC,UAAU,iCACVC,MAAO,CACLC,MAAO,oBACPC,OAAQ,qBALV,WAOA,eAAIH,UAAU,2CAAd,8CACA,iBAAKA,UAAU,sDAAf,WACE,gBAAKA,UAAU,SAAf,UACE,iBAAKA,UAAU,aAAf,WACE,4BACE,oCACA,iCACA,gCACA,qCACA,mCAEF,4BACE,wBAAI,IAAII,MAAOC,mBAAmB,QAAS,CAAEC,QAAS,OAAQC,KAAM,UAAWC,MAAO,OAAQC,IAAK,eACnG,gBAAKT,UAAU,GAAf,mBAAmBF,EAAMY,qBAAzB,aAAmB,EAAqBC,KAAI,SAACC,EAAMC,GACjD,GAAID,EAAKE,YAAchB,EAAMiB,YAAYC,MACvC,OACE,oCAAsBJ,EAAKI,MAA3B,aAAqCJ,EAAKK,MAA1C,cAAqDL,EAAKM,QAA1D,MAAWL,EAGhB,OAED,uBAAIf,EAAMqB,YAAYC,MAAK,SAACR,GAAD,OAAUA,EAAKS,UAAYvB,EAAMiB,YAAYO,MAA7C,IAAvB,OACJ,uBAAIxB,EAAMyB,oBACV,uBAAIzB,EAAM0B,uBAIhB,gBAAKxB,UAAU,SAAf,UACE,gBAAKA,UAAU,0BAAf,UACE,gBAAKyB,cAAc,OAAOC,IAAI,mBAAmBC,IAAI,QAAQzB,MAAO,IAAKF,UAAU,4BAKzF,gBAAKA,UAAU,wDAAf,UACE,4CAGF,gBAAKA,UAAU,iDAAf,mBACGF,EAAM8B,2BADT,aACG,EAA2BC,aAAalB,KAAI,SAACC,EAAMC,GAAP,aAC3C,gBAAiBb,UAAS,gDAA2Ca,EAAQ,IAAM,EAAI,eAAiB,gBAAxG,UACE,iBAAKb,UAAU,oBAAf,WACE,iBAAKA,UAAU,SAAf,WACE,kCACA,0CACA,yCACA,2CACA,2CACA,6CAEF,iBAAKA,UAAU,SAAf,WACE,uBAAIa,EAAQ,KACZ,oCAAKD,QAAL,IAAKA,OAAL,EAAKA,EAAMkB,kBACX,8BAAIlB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMmB,gBACV,8BAAInB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMoB,kBACV,8BAAIpB,QAAJ,IAAIA,GAAJ,UAAIA,EAAMqB,cAAV,aAAI,EAAcA,UAClB,8BAAIrB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMsB,uBAhBNrB,EADiC,OAwB/C,gBAAKb,UAAU,wDAAf,UACE,8CAGF,gBAAKA,UAAU,iDAAf,mBACGF,EAAM8B,2BADT,aACG,EAA2BO,cAAcxB,KAAI,SAACC,EAAMC,GAAP,aAC5C,gBAAiBb,UAAS,gDAA2Ca,EAAQ,IAAM,EAAI,eAAiB,gBAAxG,UACE,iBAAKb,UAAU,oBAAf,WACE,iBAAKA,UAAU,SAAf,WACE,kCACA,0CACA,yCACA,2CACA,2CACA,6CAEF,iBAAKA,UAAU,SAAf,WACE,uBAAIa,EAAQ,KACZ,oCAAKD,QAAL,IAAKA,OAAL,EAAKA,EAAMkB,kBACX,8BAAIlB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMmB,gBACV,8BAAInB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMoB,kBACV,8BAAIpB,QAAJ,IAAIA,GAAJ,UAAIA,EAAMqB,cAAV,aAAI,EAAcA,UAClB,8BAAIrB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMsB,uBAhBNrB,EADkC,OAwBhD,gBAAKb,UAAU,wDAAf,UACE,4CAGF,gBAAKA,UAAU,iDAAf,mBACGF,EAAM8B,2BADT,aACG,EAA2BQ,aAAazB,KAAI,SAACC,EAAMC,GAAP,OAC3C,gBAAiBb,UAAS,gDAA2Ca,EAAQ,IAAM,EAAI,eAAiB,gBAAxG,UACE,iBAAKb,UAAU,oBAAf,WACE,iBAAKA,UAAU,SAAf,WACE,kCACA,+CACA,2CACA,6CACA,oCACA,mCACA,sCAEF,iBAAKA,UAAU,SAAf,WACE,uBAAIa,EAAQ,KACZ,oCAAKD,QAAL,IAAKA,OAAL,EAAKA,EAAMyB,uBACX,8BAAIzB,QAAJ,IAAIA,OAAJ,EAAIA,EAAM0B,kBACV,8BAAI1B,QAAJ,IAAIA,OAAJ,EAAIA,EAAM2B,oBACV,8BAAI3B,QAAJ,IAAIA,OAAJ,EAAIA,EAAM4B,WACV,8BAAI5B,QAAJ,IAAIA,OAAJ,EAAIA,EAAM6B,UACV,8BAAI7B,QAAJ,IAAIA,OAAJ,EAAIA,EAAM8B,gBAlBN7B,EADiC,OA0B/C,gBAAKb,UAAU,wDAAf,UACE,qCAGF,gBAAKA,UAAU,wDAAf,UACE,gBAAKA,UAAU,mEAAf,UACE,iBAAKA,UAAU,oBAAf,WACE,iBAAKA,UAAU,SAAf,WACE,+CACA,iDACA,kDAEF,iBAAKA,UAAU,SAAf,WACE,iCAAIF,EAAM8B,2BAAV,aAAI,EAA2Be,sBAC/B,iCAAI7C,EAAM8B,2BAAV,aAAI,EAA2BgB,wBAC/B,iCAAI9C,EAAM8B,2BAAV,aAAI,EAA2BiB,iCAO9C,E,WCmPD,MA3XA,WACE,OAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAA0CJ,EAAAA,EAAAA,UAAS,IAAnD,eAAOpC,EAAP,KAAsByC,EAAtB,KACA,GAAsCL,EAAAA,EAAAA,UAAS,IAA/C,eAAO3B,EAAP,KAAoBiC,EAApB,KACA,GAAsCN,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAO/B,EAAP,KAAoBsC,EAApB,KACA,GAAsDP,EAAAA,EAAAA,UAAS,MAA/D,eAAOlB,EAAP,KAA4B0B,EAA5B,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAyBC,EAAAA,EAAAA,MAAlBC,GAAP,eACA,GAAmBC,EAAAA,EAAAA,MAAZC,GAAP,eACA,GAAiBC,EAAAA,EAAAA,MAAVC,GAAP,eACA,GAA4BC,EAAAA,EAAAA,MAArBC,GAAP,eACA,IAAqBC,EAAAA,EAAAA,MAAdC,IAAP,gBACA,IAAsCpB,EAAAA,EAAAA,WAAS,GAA/C,iBAAOqB,GAAP,MAAoBC,GAApB,MACMC,IAAWC,EAAAA,EAAAA,MAEXC,GAAoB,SAACC,GACzBJ,IAAgBI,EACjB,EAEaC,IAASC,EAAAA,EAAAA,IAAYC,EAAAA,IAA3BC,KAEFC,GAAS,yCAAG,sHAEKf,IAASgB,SAFd,OAGM,aADdF,EAFQ,QAGLlC,QAAwC,YAAhBkC,EAAKlC,QAEd,KAAd,OAAJ+B,SAAI,IAAJA,QAAA,EAAAA,GAAMM,UACFC,EAAaJ,EAAKA,KAAKK,QAAO,SAACC,GACnC,GAAIA,EAAI7D,SAAWoD,GAAKnD,OACtB,OAAO4D,CAEV,IACDC,EAAUH,GAEVG,EAAUP,EAAKA,KAEjBP,IAASe,EAAAA,EAAAA,IAAO,CAAER,KAAMO,KACxB/B,EAAe+B,KAEfE,EAAAA,EAAAA,GAAWT,GAAM,GAlBL,iDAqBdS,EAAAA,EAAAA,GAAW,EAAD,IAAQ,GArBJ,yDAAH,qDAyBTC,GAAe,yCAAG,oHAED5B,IAAiBoB,SAFhB,OAGA,aADdF,EAFc,QAGXlC,QAAwC,YAAhBkC,EAAKlC,QAChC6C,EAAY,GACZX,EAAKH,KAAKe,SAASC,OAAS,IAC9BF,EAAS,kBAAOA,IAAP,OAAqBX,EAAKH,KAAKe,YAEtCZ,EAAKH,KAAKiB,IAAID,OAAS,IACzBF,EAAS,kBAAOA,IAAP,OAAqBX,EAAKH,KAAKiB,OAE1C1C,EAAgBuC,GAChBrC,EAAgB,IAAIyC,MAAMJ,EAAUE,QAAQG,MAAK,MAEjDP,EAAAA,EAAAA,GAAWT,GAAM,GAdC,iDAiBpBS,EAAAA,EAAAA,GAAW,EAAD,IAAQ,GAjBE,yDAAH,qDAqBfQ,GAAW,yCAAG,kHAEGjC,IAAWkB,SAFd,OAGI,aADdF,EAFU,QAGPlC,QAAwC,YAAhBkC,EAAKlC,OACpCS,EAAiByB,EAAKA,OAEtBS,EAAAA,EAAAA,GAAWT,GAAM,GANH,iDAShBS,EAAAA,EAAAA,GAAW,EAAD,IAAQ,GATF,yDAAH,qDAaXS,GAAe,SAACtB,GACpB,MAAsBA,EAAMuB,OAApBhG,EAAR,EAAQA,GAAIiG,EAAZ,EAAYA,MACD,YAAPjG,GACFsD,GAAe,kBAAKtC,GAAN,IAAmBkF,QAASD,KAEjC,QAAPjG,GACFsD,GAAe,kBAAKtC,GAAN,IAAmBO,OAAQ0E,KAEhC,UAAPjG,GACFsD,GAAe,kBAAKtC,GAAN,IAAmBC,MAAOgF,IAE3C,EAgCD,IAAwBlD,EAAAA,EAAAA,UAAS,IAAjC,iBAAOoD,GAAP,MAAaC,GAAb,MAOMC,GAAqB,yCAAG,2GAEpBC,EAAOtF,EAFa,SAGPiD,EAAkB,CAAEqC,KAAAA,IAAQvB,SAHrB,OAIN,YADdF,EAHoB,QAIjBlC,QAAuC,YAAhBkC,EAAKlC,QACnCY,EAAuBsB,EAAKA,MAC5BR,IAAe,KAEfd,EAAuB,MACvBc,IAAe,IACfiB,EAAAA,EAAAA,GAAWT,GAAM,IAVO,gDAa1BtB,EAAuB,MACvBc,IAAe,IACfiB,EAAAA,EAAAA,GAAW,EAAD,IAAQ,GAfQ,yDAAH,qDAyDrBiB,GAAkB,yCAAG,sGACnBD,EAAO,IAAIE,SAEbC,EAAe,GACfC,EAAU,GACdxD,EAAayD,SAAQ,SAACC,EAAWC,GAC3BD,GACF5D,EAAa2D,SAAQ,SAAC9F,EAAMC,GACtB+F,IAAmB/F,IACE,aAAnBD,EAAKiG,KAAKA,OACZL,GAAgB5F,EAAKkG,MAEA,QAAnBlG,EAAKiG,KAAKA,OACZJ,GAAW7F,EAAKkG,MAGrB,GAGJ,IAEDT,EAAKU,OAAO,UAAWhG,EAAYkF,SACnCI,EAAKU,OAAO,WAAYhG,EAAYC,OACpCqF,EAAKU,OAAO,SAAUhG,EAAYO,QAClC+E,EAAKU,OAAO,MAAON,GACnBJ,EAAKU,OAAO,WAAYP,GACxBH,EAAKU,OAAO,eAAgB,IAC5BV,EAAKU,OAAO,UAAWtC,GAAKuC,SAC5BX,EAAKU,OAAO,mBAAoBb,IA5BP,oBA+BJhC,GAAW,CAAEmC,KAAAA,IAAQvB,SA/BjB,QAgCH,aADdF,EA/BiB,QAgCdlC,QAAwC,YAAhBkC,EAAKlC,SACpCuE,EAAAA,EAAAA,GAAerC,GACfsC,YAAW,WACT3D,EAAS,UAAW,CAAE4D,SAAS,GAChC,GAAE,OAEH9B,EAAAA,EAAAA,GAAWT,GAAM,GAtCI,oDAyCvBS,EAAAA,EAAAA,GAAW,EAAD,IAAQ,GAzCK,2DAAH,qDA6ClB+B,IAAW1C,EAAAA,EAAAA,IAAY2C,EAAAA,IAqB7B,OAnBAC,EAAAA,EAAAA,YAAU,WACR,IAAM1C,EAAI,kBAAOwC,GAASxC,MAAhB,CAAsB,CAAE2C,KAAK,iBAAmBC,MAAO,YACjEnD,IAASoD,EAAAA,EAAAA,IAAiB7C,IAC1BC,KACAS,KACAO,IACD,GAAE,KAcD,4BACE,iBAAK7F,UAAU,uCAAf,WACE,iBAAKA,UAAU,+BAAf,WACE,kBAAO0H,QAAQ,UAAU1H,UAAU,sBAAnC,UACE,iBAAMA,UAAU,aAAhB,yBAGF,kBAAO2H,KAAK,OAAOb,KAAK,GAAG/G,GAAG,UAAU6H,SAAU9B,GAAc9F,UAAU,+CAE5E,iBAAKA,UAAU,+BAAf,WACE,kBAAO0H,QAAQ,WAAW1H,UAAU,sBAApC,UACE,iBAAMA,UAAU,aAAhB,qBAGF,oBACEA,UAAU,0CACV4H,SAAU9B,GACV/F,GAAG,MAHL,WAKE,mBAAQiG,MAAM,GAAG6B,MAAM,YAAvB,uBALF,OAMG1G,QANH,IAMGA,OANH,EAMGA,EAAaR,KAAI,SAACC,EAAMC,GAAP,OAChB,mBAAoBmF,MAAOpF,EAAKS,OAAQwG,MAAOjH,EAAKsE,IAApD,SAA0DtE,EAAKsE,KAAlDrE,EADG,WAKtB,iBAAKb,UAAU,+BAAf,WACE,kBAAO0H,QAAQ,WAAW1H,UAAU,sBAApC,UACE,iBAAMA,UAAU,aAAhB,uBAGF,oBACEA,UAAU,0CACV4H,SAAU9B,GACV/F,GAAG,QAHL,WAKE,mBAAQiG,MAAM,GAAG6B,MAAM,cAAvB,yBALF,OAMGnH,QANH,IAMGA,OANH,EAMGA,EAAeC,KAAI,SAACC,EAAMC,GAAP,OAClB,mBAAoBmF,MAAOpF,EAAKE,SAAU+G,MAAK,UAAKjH,EAAKI,MAAV,aAAoBJ,EAAKK,MAAzB,gBAAsCL,EAAKM,QAA3C,KAA/C,mBAA0GN,EAAKI,MAA/G,aAAyHJ,EAAKK,MAA9H,gBAA2IL,EAAKM,QAAhJ,MAAaL,EADK,WAKxB,iBAAKb,UAAU,yDAAf,WACE,iBAAKA,UAAU,cAAf,WACE,kBAAO0H,QAAQ,WAAW1H,UAAU,sBAAsBC,MAAO,CAAE6H,WAAY,UAA/E,UACE,iBAAM9H,UAAU,aAAhB,yBAEF,mBAAQ2H,KAAK,SAASI,QArHP,WACvB3B,IACD,EAmH0DpG,UAAU,0CAA3D,+BAIF,iBAAKA,UAAU,cAAf,WACE,kBAAO0H,QAAQ,WAAW1H,UAAU,sBAAsBC,MAAO,CAAE6H,WAAY,UAA/E,UACE,iBAAM9H,UAAU,aAAhB,sBAEF,mBAAQ2H,KAAK,SAASI,QAvNN,WACxB,IAAMC,EAAM,IAAIC,EAAAA,GAAM,IAAK,KAAM,MACjCD,EAAIE,YAAY,IAChB,IAAMC,EAAUC,SAASC,eAAe,kBACxC,GAAIF,EAAS,CACX,IAAMG,EAAgB,YAAa,IAAIlI,MAAOC,mBAAmB,SAAW,OAC5E2H,EAAIO,KAAKJ,EAAS,CACVK,SADU,SACDR,GAAM,OAAD,0GAClBA,EAAIS,cAAc,CAAEjB,MAAOc,IAC3BI,OAAOC,KAAKX,EAAIY,OAAO,WAAY,UAFjB,4CAGnB,EACDC,YAAa,KACb3I,MAAO,IACP4I,OAAQ,GACRC,SAAUT,EACVU,YAAY,EACZC,MAAO,CAAEtB,KAAM,MAAOuB,QAAS,IAElC,KAAM,EAQL7D,EAAAA,EAAAA,GAPa,CACXT,KAAM,CACJuE,QAAS,mDACTzG,OAAQ,KAEVA,OAAQ,MAEO,EAClB,CACF,EA2L2D1C,UAAU,+BAA+BoJ,SAAkC,OAAxBxH,EAArG,qCAMN,iBAAK5B,UAAU,OAAf,WACE,kBAAO0H,QAAQ,WAAW1H,UAAU,sBAApC,UACE,iBAAMA,UAAU,aAAhB,+BAEF,gBAAKA,UAAU,aAAf,SACG+C,EAAapC,KAAI,WAAiBE,GAAjB,IAAGiG,EAAH,EAAGA,KAAMD,EAAT,EAASA,KAAT,OAChB,0BACE,iBAAK7G,UAAU,QAAf,WACE,kBACE2H,KAAK,WACL5H,GAAE,0BAAqBc,GACvBiG,KAAMA,EACNd,MAAOc,EACPuC,QAASpG,EAAapC,GACtB+G,SAAU,kBAtFH,SAAC0B,GACtB,IAAMC,EAAsBtG,EAAatC,KAAI,SAACC,EAAMC,GAAP,OAAkBA,IAAUyI,GAAY1I,EAAOA,CAA/C,IAC7CsC,EAAgBqG,EACjB,CAmF+BC,CAAe3I,EAArB,KAEZ,mBAAO6G,QAAO,0BAAqB7G,GAASb,UAAU,OAAtD,UAA8D8G,EAA9D,IAAqED,EAAKA,KAA1E,WAVMhG,EADM,UAiBtB,mBACA,iBAAKb,UAAU,OAAf,WACE,mBAAO0H,QAAQ,WAAW1H,UAAU,sBAApC,WACE,iBAAMA,UAAU,aAAhB,+BACCmE,KACC,SAAC,MAAD,CACEsF,KAAM,GACNC,MAAM,UACN1J,UAAU,iBACV+H,QAAS,kBAAMxD,GAAkBJ,GAAxB,KAGXA,KAEE,SAAC,MAAD,CACEsF,KAAM,GACNC,MAAM,UACN1J,UAAU,iBACV+H,QAAS,kBAAMxD,GAAkBJ,GAAxB,OAIS,OAAxBvC,GAAgCuC,KAChC,SAAC,EAAD,CAAgBzD,cAAeA,EAAekB,oBAAqBA,EAAqBT,YAAaA,EAAaJ,YAAaA,EAAaQ,eAjM7H,WACrB,IAAIiF,EAAe,GAanB,OAZAvD,EAAayD,SAAQ,SAACC,EAAWC,GAC3BD,GACF5D,EAAa2D,SAAQ,SAAC9F,EAAMC,GACtB+F,IAAmB/F,GACE,aAAnBD,EAAKiG,KAAKA,OACZL,GAAgB5F,EAAKkG,KAG1B,GAGJ,IACMN,CACR,EAkLmLhF,UAlNlK,WAChB,IAAIiF,EAAU,GAad,OAZAxD,EAAayD,SAAQ,SAACC,EAAWC,GAC3BD,GACF5D,EAAa2D,SAAQ,SAAC9F,EAAMC,GACtB+F,IAAmB/F,GACE,QAAnBD,EAAKiG,KAAKA,OACZJ,GAAW7F,EAAKkG,KAGrB,GAGJ,IACML,CACR,QAsMG,mBACA,iBAAKzG,UAAU,qBAAf,0BACgBkG,GAAKY,KADrB,OAC8B6C,EAAAA,EAAAA,IAAYzD,GAAKuD,UAE/C,gBAAKzJ,UAAU,OAAf,UACE,iBAAKA,UAAU,yDAAf,WACE,SAAC,KAAD,CAAQ2H,KAAK,SAASI,QAAS,WAvHrCxE,EAAS,UAuH4B,EAAiBvD,UAAU,cAA1D,sBACA,SAAC,KAAD,CAAc4H,SAAU,SAACgC,GAAD,OApPL,SAACC,GAC1B,IAAMjF,EAAOiF,EAAO9D,OAAO+D,MAC3BlF,EAAKa,OAAS,EAAIU,GAAQvB,EAAK,IAAMuB,GAAQ,GAC9C,CAiPsC4D,CAAmBH,EAA1B,KACxB,SAAC,KAAD,CAAQjC,KAAK,SAASI,QAAS,kBAAMzB,IAAN,EAA4BtG,UAAU,0BAArE,2BAKT,C","sources":["pages/report/create/TemplateReport.jsx","pages/report/create/ReportCreate.jsx"],"sourcesContent":["\r\nfunction TemplateReport({...props}) {\r\n    return (\r\n        <div\r\n        id=\"preview-report\"\r\n        className=\"w-full max-w-screen-xl m-0 p-9\"\r\n        style={{\r\n          width: '1440px !important',\r\n          height: '4500px !important' }}\r\n      >\r\n        <h1 className=\"text-center font-bold text-2xl mt-0 pt-0\">Daily Complaint Report Helpdesk</h1>\r\n        <div className=\"flex justify-between align-middle items-center mt-5\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex gap-5\">\r\n              <div>\r\n                <p>Tanggal</p>\r\n                <p>Sesi</p>\r\n                <p>POP</p>\r\n                <p>Helpdesk</p>\r\n                <p>NOC</p>\r\n              </div>\r\n              <div>\r\n                <p>{new Date().toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>\r\n                <div className=\"\">{props.allShiftLocal?.map((item, index) => {\r\n                  if (item.id_shift === +props.bodyKeluhan.shift) {\r\n                    return (\r\n                      <span key={index}>{`${item.shift} (${item.mulai})-(${item.selesai})`}</span>\r\n                    );\r\n                  }\r\n                })}\r\n                </div>\r\n                <p>{props.allPOPLocal.find((item) => item.id_pop === +props.bodyKeluhan.pop_id)['pop']}</p>\r\n                <p>{props.getAllHelpdesk()}</p>\r\n                <p>{props.getAllNOC()}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex flex-col items-end\">\r\n              <img fetchpriority=\"high\" src=\"/report_logo.png\" alt=\"Repor\" width={157} className=\"image-full mt-4\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-center rounded-xl bg-gray-300 p-2 font-bold mt-5\">\r\n          <h2>Keluhan Open</h2>\r\n        </div>\r\n\r\n        <div className=\"flex mt-5 border-gray-300 rounded-lg flex-wrap\">\r\n          {props.keluhanLaporanLocal?.keluhan_open.map((item, index) => (\r\n            <div key={index} className={`flex p-2 border border-gray-300 w-1/2 ${index % 2 === 0 ? 'rounded-l-lg' : 'rounded-r-lg'}`}>\r\n              <div className=\"flex gap-5 w-full\">\r\n                <div className=\"flex-1\">\r\n                  <p>Nomor</p>\r\n                  <p>Nomor Keluhan</p>\r\n                  <p>ID Pelanggan</p>\r\n                  <p>Nama Pelanggan</p>\r\n                  <p>Sumber Keluhan</p>\r\n                  <p>Detail Sumber</p>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p>{index + 1}</p>\r\n                  <p>#{item?.nomor_keluhan}</p>\r\n                  <p>{item?.id_pelanggan}</p>\r\n                  <p>{item?.nama_pelanggan}</p>\r\n                  <p>{item?.sumber?.sumber}</p>\r\n                  <p>{item?.detail_sumber}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"text-center rounded-xl bg-gray-300 p-2 font-bold mt-5\">\r\n          <h2>Keluhan Closed</h2>\r\n        </div>\r\n\r\n        <div className=\"flex mt-5 border-gray-300 rounded-lg flex-wrap\">\r\n          {props.keluhanLaporanLocal?.keluhan_close.map((item, index) => (\r\n            <div key={index} className={`flex p-2 border border-gray-300 w-1/2 ${index % 2 === 0 ? 'rounded-l-lg' : 'rounded-r-lg'}`}>\r\n              <div className=\"flex gap-5 w-full\">\r\n                <div className=\"flex-1\">\r\n                  <p>Nomor</p>\r\n                  <p>Nomor Keluhan</p>\r\n                  <p>ID Pelanggan</p>\r\n                  <p>Nama Pelanggan</p>\r\n                  <p>Sumber Keluhan</p>\r\n                  <p>Detail Sumber</p>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p>{index + 1}</p>\r\n                  <p>#{item?.nomor_keluhan}</p>\r\n                  <p>{item?.id_pelanggan}</p>\r\n                  <p>{item?.nama_pelanggan}</p>\r\n                  <p>{item?.sumber?.sumber}</p>\r\n                  <p>{item?.detail_sumber}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"text-center rounded-xl bg-gray-300 p-2 font-bold mt-5\">\r\n          <h2>RFO Gangguan</h2>\r\n        </div>\r\n\r\n        <div className=\"flex mt-5 border-gray-300 rounded-lg flex-wrap\">\r\n          {props.keluhanLaporanLocal?.rfo_gangguan.map((item, index) => (\r\n            <div key={index} className={`flex p-2 border border-gray-300 w-1/2 ${index % 2 === 0 ? 'rounded-l-lg' : 'rounded-r-lg'}`}>\r\n              <div className=\"flex gap-5 w-full\">\r\n                <div className=\"flex-1\">\r\n                  <p>Nomor</p>\r\n                  <p>Nomor RFO Gangguan</p>\r\n                  <p>Mulai Gangguan</p>\r\n                  <p>Selesai Gangguan</p>\r\n                  <p>Problem</p>\r\n                  <p>Action</p>\r\n                  <p>Status</p>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p>{index + 1}</p>\r\n                  <p>#{item?.nomor_rfo_gangguan}</p>\r\n                  <p>{item?.mulai_gangguan}</p>\r\n                  <p>{item?.selesai_gangguan}</p>\r\n                  <p>{item?.problem}</p>\r\n                  <p>{item?.action}</p>\r\n                  <p>{item?.status}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"text-center rounded-xl bg-gray-300 p-2 font-bold mt-5\">\r\n          <h2>Total</h2>\r\n        </div>\r\n\r\n        <div className=\"flex mt-5 border border-gray-300 rounded-lg flex-wrap\">\r\n          <div className=\"flex p-2 border border-gray-300 rounded-l-lg rounded-r-lg w-full\">\r\n            <div className=\"flex gap-5 w-full\">\r\n              <div className=\"flex-1\">\r\n                <p>Total Keluhan Open</p>\r\n                <p>Total Keluhan Closed</p>\r\n                <p>Total RFO Gangguan</p>\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <p>{props.keluhanLaporanLocal?.total_keluhan_open}</p>\r\n                <p>{props.keluhanLaporanLocal?.total_keluhan_closed}</p>\r\n                <p>{props.keluhanLaporanLocal?.total_rfo_gangguan}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default TemplateReport;","import { jsPDF } from \"jspdf\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  HiEye,\r\n  HiEyeOff\r\n} from 'react-icons/hi';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { selectBreadcrumb, updateBreadcrumb } from \"../../../store/features/breadcrumb/breadcrumbSlice\";\r\nimport { useAllShiftMutation, useGetKeluhanLaporanMutation, useGetUserLaporanMutation, useSaveReportMutation } from \"../../../store/features/report/reportApiSlice\";\r\nimport { useAllPOPMutation } from \"../../../store/features/pop/popApiSlice\"\r\nimport { selectCurrentUser } from \"../../../store/features/auth/authSlice\";\r\nimport { formatBytes } from \"../../../utils/helper\";\r\nimport { setPOP } from \"../../../store/features/pop/popSlice\";\r\nimport catchError from \"../../../services/catchError\";\r\nimport handleResponse from \"../../../services/handleResponse\";\r\nimport TemplateReport from \"./TemplateReport\";\r\nimport { Button, ButtonUpload } from \"../../../components\";\r\n\r\nfunction ReportCreate() {\r\n  const [allUserLocal, setAllUserLocal] = useState([]);\r\n  const [checkedState, setCheckedState] = useState([]);\r\n  const [allShiftLocal, setAllShiftLocal] = useState([]);\r\n  const [allPOPLocal, setAllPOPLocal] = useState([])\r\n  const [bodyKeluhan, setBodyKeluhan] = useState({});\r\n  const [keluhanLaporanLocal, setKeluhanLaporanLocal] = useState(null);\r\n  const navigate = useNavigate()\r\n\r\n  const [getUserLaporan] = useGetUserLaporanMutation()\r\n  const [allShift] = useAllShiftMutation();\r\n  const [allPOP] = useAllPOPMutation();\r\n  const [getKeluhanLaporan] = useGetKeluhanLaporanMutation()\r\n  const [saveReport] = useSaveReportMutation();\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleShowPreview = (event) => {\r\n    setShowPreview(!event);\r\n  }\r\n\r\n  const { data: user } = useSelector(selectCurrentUser);\r\n\r\n  const getAllPOP = async () => {\r\n    try {\r\n      const data = await allPOP().unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        let dataFix;\r\n        if (user?.role_id === 2) {\r\n          const dataFilter = data.data.filter((pop) => {\r\n            if (pop.id_pop === user.pop_id) {\r\n              return pop;\r\n            }\r\n          });\r\n          dataFix = dataFilter\r\n        } else {\r\n          dataFix = data.data\r\n        }\r\n        dispatch(setPOP({ data: dataFix }));\r\n        setAllPOPLocal(dataFix);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const getAllUserLapor = async () => {\r\n    try {\r\n      const data = await getUserLaporan().unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        let dataLocal = [];\r\n        if (data.user.helpdesk.length > 0) {\r\n          dataLocal = [...dataLocal, ...data.user.helpdesk];\r\n        }\r\n        if (data.user.noc.length > 0) {\r\n          dataLocal = [...dataLocal, ...data.user.noc];\r\n        }\r\n        setAllUserLocal(dataLocal);\r\n        setCheckedState(new Array(dataLocal.length).fill(false))\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const getAllShift = async () => {\r\n    try {\r\n      const data = await allShift().unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        setAllShiftLocal(data.data);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const handleFilter = (event) => {\r\n    const { id, value } = event.target;\r\n    if (id === 'tanggal') {\r\n      setBodyKeluhan({ ...bodyKeluhan, tanggal: value });\r\n    }\r\n    if (id === 'pop') {\r\n      setBodyKeluhan({ ...bodyKeluhan, pop_id: value });\r\n    }\r\n    if (id === 'shift') {\r\n      setBodyKeluhan({ ...bodyKeluhan, shift: value });\r\n    }\r\n  };\r\n\r\n  const handleGeneratePdf = () => {\r\n    const doc = new jsPDF('p', 'px', 'a4');\r\n    doc.setFontSize(12);\r\n    const content = document.getElementById('preview-report');\r\n    if (content) {\r\n      const printFileName = 'Laporan-' + new Date().toLocaleDateString('id-ID') + '.pdf';\r\n      doc.html(content, {\r\n        async callback(doc) {\r\n          doc.setProperties({ title: printFileName });\r\n          window.open(doc.output('bloburl'), '_blank');\r\n        },\r\n        windowWidth: 1500,\r\n        width: 500,\r\n        margin: 10,\r\n        filename: printFileName,\r\n        autoPaging: true,\r\n        image: { type: 'png', quality: 1 },\r\n      });\r\n    } else {\r\n      const data = {\r\n        data: {\r\n          message: 'Konten tidak terlihat. Silahkan klik tombol mata',\r\n          status: 404,\r\n        },\r\n        status: 404\r\n      };\r\n      catchError(data, true);\r\n    }\r\n  };\r\n\r\n  const [file, setFile] = useState([]);\r\n\r\n  const onHandleFileUpload = ($event) => {\r\n    const data = $event.target.files;\r\n    data.length > 0 ? setFile(data[0]) : setFile([]);\r\n  };\r\n\r\n  const getKeluhanLaporanUser = async () => {\r\n    try {\r\n      const body = bodyKeluhan;\r\n      const data = await getKeluhanLaporan({ body }).unwrap();\r\n      if (data.status === 'succes' || data.status === 'Success') {\r\n        setKeluhanLaporanLocal(data.data);\r\n        setShowPreview(true);\r\n      } else {\r\n        setKeluhanLaporanLocal(null);\r\n        setShowPreview(false);\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      setKeluhanLaporanLocal(null);\r\n      setShowPreview(false);\r\n      catchError(error, true);\r\n    }\r\n  }\r\n\r\n  const getAllNOC = () => {\r\n    let userNOC = '';\r\n    checkedState.forEach((condition, indexcondition) => {\r\n      if (condition) {\r\n        allUserLocal.forEach((item, index) => {\r\n          if (indexcondition === index) {\r\n            if (item.role.role === 'NOC') {\r\n              userNOC += item.name;\r\n            }\r\n          }\r\n        }\r\n        )\r\n      }\r\n    })\r\n    return userNOC;\r\n  }\r\n\r\n  const getAllHelpdesk = () => {\r\n    let userHelpdesk = '';\r\n    checkedState.forEach((condition, indexcondition) => {\r\n      if (condition) {\r\n        allUserLocal.forEach((item, index) => {\r\n          if (indexcondition === index) {\r\n            if (item.role.role === 'HELPDESK') {\r\n              userHelpdesk += item.name;\r\n            }\r\n          }\r\n        }\r\n        )\r\n      }\r\n    })\r\n    return userHelpdesk;\r\n  }\r\n\r\n  const onRequestLaporan = () => {\r\n    getKeluhanLaporanUser();\r\n  }\r\n\r\n  const handleSubmitReport = async () => {\r\n    const body = new FormData();\r\n\r\n    let userHelpdesk = '';\r\n    let userNOC = '';\r\n    checkedState.forEach((condition, indexcondition) => {\r\n      if (condition) {\r\n        allUserLocal.forEach((item, index) => {\r\n          if (indexcondition === index) {\r\n            if (item.role.role === 'HELPDESK') {\r\n              userHelpdesk += item.name;\r\n            }\r\n            if (item.role.role === 'NOC') {\r\n              userNOC += item.name;\r\n            }\r\n          }\r\n        }\r\n        )\r\n      }\r\n    })\r\n\r\n    body.append('tanggal', bodyKeluhan.tanggal);\r\n    body.append('shift_id', bodyKeluhan.shift);\r\n    body.append('pop_id', bodyKeluhan.pop_id);\r\n    body.append('noc', userNOC);\r\n    body.append('helpdesk', userHelpdesk);\r\n    body.append('data_laporan', '');\r\n    body.append('user_id', user.id_user);\r\n    body.append('lampiran_laporan', file);\r\n\r\n    try {\r\n      const data = await saveReport({ body }).unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        handleResponse(data);\r\n        setTimeout(() => {\r\n          navigate('/report', { replace: true });\r\n        }, 2000);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  }\r\n\r\n  const navigasi = useSelector(selectBreadcrumb);\r\n\r\n  useEffect(() => {\r\n    const data = [...navigasi.data, { path: `/report/create`, title: 'Tambah' }]\r\n    dispatch(updateBreadcrumb(data))\r\n    getAllPOP();\r\n    getAllUserLapor();\r\n    getAllShift();\r\n  }, [])\r\n\r\n  const handleOnChange = (position) => {\r\n    const updatedCheckedState = checkedState.map((item, index) => (index === position ? !item : item));\r\n    setCheckedState(updatedCheckedState);\r\n  };\r\n\r\n\r\n  const btnBack = () => {\r\n    navigate('/report');\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex gap-5 flex-col lg:flex-row mt-5\">\r\n        <div className=\"form-control w-full lg:w-1/4\">\r\n          <label htmlFor=\"tanggal\" className=\"label font-semibold\">\r\n            <span className=\"label-text\"> Tanggal</span>\r\n          </label>\r\n\r\n          <input type=\"date\" name=\"\" id=\"tanggal\" onChange={handleFilter} className=\"input w-full max-w-full input-bordered\" />\r\n        </div>\r\n        <div className=\"form-control w-full lg:w-1/4\">\r\n          <label htmlFor=\"location\" className=\"label font-semibold\">\r\n            <span className=\"label-text\"> POP</span>\r\n          </label>\r\n\r\n          <select\r\n            className=\"select w-full max-w-full input-bordered\"\r\n            onChange={handleFilter}\r\n            id=\"pop\"\r\n          >\r\n            <option value=\"\" label=\"Pilih POP\">Pilih POP</option>\r\n            {allPOPLocal?.map((item, index) => (\r\n              <option key={index} value={item.id_pop} label={item.pop}>{item.pop}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-control w-full lg:w-1/4\">\r\n          <label htmlFor=\"location\" className=\"label font-semibold\">\r\n            <span className=\"label-text\"> Shift</span>\r\n          </label>\r\n\r\n          <select\r\n            className=\"select w-full max-w-full input-bordered\"\r\n            onChange={handleFilter}\r\n            id=\"shift\"\r\n          >\r\n            <option value=\"\" label=\"Pilih Shift\">Pilih Shift</option>\r\n            {allShiftLocal?.map((item, index) => (\r\n              <option key={index} value={item.id_shift} label={`${item.shift} (${item.mulai}) - (${item.selesai})`}>{`${item.shift} (${item.mulai}) - (${item.selesai})`}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"w-full lg:w-1/4 flex justify-between lg:flex-row gap-5\">\r\n          <div className=\"justify-end\">\r\n            <label htmlFor=\"location\" className=\"label font-semibold\" style={{ visibility: 'hidden' }}>\r\n              <span className=\"label-text\">Generate</span>\r\n            </label>\r\n            <button type=\"button\" onClick={onRequestLaporan} className=\"btn btn-md btn-success  w-32 text-white\">\r\n              Generate Data\r\n            </button>\r\n          </div>\r\n          <div className=\"justify-end\">\r\n            <label htmlFor=\"location\" className=\"label font-semibold\" style={{ visibility: 'hidden' }}>\r\n              <span className=\"label-text\">Unduh</span>\r\n            </label>\r\n            <button type=\"button\" onClick={handleGeneratePdf} className=\"btn btn-md  w-32 btn-primary\" disabled={keluhanLaporanLocal === null}>\r\n              Unduh Laporan\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <label htmlFor=\"location\" className=\"label font-semibold\">\r\n          <span className=\"label-text\"> User Pengguna</span>\r\n        </label>\r\n        <div className=\"flex gap-5\">\r\n          {allUserLocal.map(({ name, role }, index) => (\r\n            <div key={index}>\r\n              <div className=\"label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id={`custom-checkbox-${index}`}\r\n                  name={name}\r\n                  value={name}\r\n                  checked={checkedState[index]}\r\n                  onChange={() => handleOnChange(index)}\r\n                />\r\n                <label htmlFor={`custom-checkbox-${index}`} className=\"pl-2\">{name}({role.role})</label>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div className=\"mt-5\">\r\n        <label htmlFor=\"location\" className=\"label font-semibold\">\r\n          <span className=\"label-text\"> Tampilan Laporan</span>\r\n          {showPreview && (\r\n            <HiEyeOff\r\n              size={20}\r\n              color=\"#0D68F1\"\r\n              className=\"cursor-pointer\"\r\n              onClick={() => handleShowPreview(showPreview)}\r\n            />\r\n          )}\r\n          {!showPreview\r\n            && (\r\n              <HiEye\r\n                size={20}\r\n                color=\"#0D68F1\"\r\n                className=\"cursor-pointer\"\r\n                onClick={() => handleShowPreview(showPreview)}\r\n              />\r\n            )}\r\n        </label>\r\n        {(keluhanLaporanLocal !== null && showPreview) && (\r\n          <TemplateReport allShiftLocal={allShiftLocal} keluhanLaporanLocal={keluhanLaporanLocal} allPOPLocal={allPOPLocal} bodyKeluhan={bodyKeluhan} getAllHelpdesk={getAllHelpdesk} getAllNOC={getAllNOC} />\r\n        )}\r\n      </div>\r\n      <hr />\r\n      <div className=\"mt-5 font-semibold\">\r\n        File Upload: {file.name} - {formatBytes(file.size)}\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <div className=\"flex flex-col-reverse md:flex-row justify-center gap-5\">\r\n          <Button type=\"button\" onClick={() => btnBack()} className=\"border-none\" >Kembali</Button>\r\n          <ButtonUpload onChange={(e) => onHandleFileUpload(e)} />\r\n          <Button type=\"button\" onClick={() => handleSubmitReport()} className=\"bg-blue-600 border-none\"  >Simpan</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportCreate;\r\n"],"names":["props","id","className","style","width","height","Date","toLocaleDateString","weekday","year","month","day","allShiftLocal","map","item","index","id_shift","bodyKeluhan","shift","mulai","selesai","allPOPLocal","find","id_pop","pop_id","getAllHelpdesk","getAllNOC","fetchpriority","src","alt","keluhanLaporanLocal","keluhan_open","nomor_keluhan","id_pelanggan","nama_pelanggan","sumber","detail_sumber","keluhan_close","rfo_gangguan","nomor_rfo_gangguan","mulai_gangguan","selesai_gangguan","problem","action","status","total_keluhan_open","total_keluhan_closed","total_rfo_gangguan","useState","allUserLocal","setAllUserLocal","checkedState","setCheckedState","setAllShiftLocal","setAllPOPLocal","setBodyKeluhan","setKeluhanLaporanLocal","navigate","useNavigate","useGetUserLaporanMutation","getUserLaporan","useAllShiftMutation","allShift","useAllPOPMutation","allPOP","useGetKeluhanLaporanMutation","getKeluhanLaporan","useSaveReportMutation","saveReport","showPreview","setShowPreview","dispatch","useDispatch","handleShowPreview","event","user","useSelector","selectCurrentUser","data","getAllPOP","unwrap","role_id","dataFilter","filter","pop","dataFix","setPOP","catchError","getAllUserLapor","dataLocal","helpdesk","length","noc","Array","fill","getAllShift","handleFilter","target","value","tanggal","file","setFile","getKeluhanLaporanUser","body","handleSubmitReport","FormData","userHelpdesk","userNOC","forEach","condition","indexcondition","role","name","append","id_user","handleResponse","setTimeout","replace","navigasi","selectBreadcrumb","useEffect","path","title","updateBreadcrumb","htmlFor","type","onChange","label","visibility","onClick","doc","jsPDF","setFontSize","content","document","getElementById","printFileName","html","callback","setProperties","window","open","output","windowWidth","margin","filename","autoPaging","image","quality","message","disabled","checked","position","updatedCheckedState","handleOnChange","size","color","formatBytes","e","$event","files","onHandleFileUpload"],"sourceRoot":""}