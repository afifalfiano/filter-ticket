"use strict";(self.webpackChunkfilter_ticket=self.webpackChunkfilter_ticket||[]).push([[422],{54422:function(e,a,n){n.r(a),n.d(a,{default:function(){return _}});var t=n(74165),s=n(42982),l=n(15861),r=n(1413),i=n(70885),c=n(55705),d=n(72791),o=n(95048),u="RFOMasalModal_modal-box-custom__YUTSm",h=n(58812),x=n(74102),f=n(86017),g=n(64671),v=n(89504),m=n(19585),j=n(11803),p=n(14450),b=n(80184);var _=function(e){var a,n=e.stateModal,_=e.getInfo,Z=e.detail,N=(0,h.fb)(),k=(0,i.Z)(N,1)[0],w=(0,h.Mt)(),y=(0,i.Z)(w,1)[0],S=(0,g.OA)(),D=(0,i.Z)(S,1)[0],F=(0,o.I0)(),R=(0,d.useState)([]),C=(0,i.Z)(R,2),M=C[0],O=C[1],z=function(){var e=(0,r.Z)((0,r.Z)({},n),{},{dashboard:(0,r.Z)((0,r.Z)({},n.dashboard),{},{showRFOTroubleModal:!1})});F((0,v.cf)(e))},I=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var a,n,l,r,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:1,n="?page=".concat(a),e.prev=2,e.next=5,k(n).unwrap();case 5:"success"===(l=e.sent).status||"Success"===l.status?(r=l.data.data,F((0,x.tz)({data:r})),O((0,s.Z)(r))):(0,j.Z)(l,!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),(0,j.Z)(e.t0,!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){I()}),[]);var T=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(a){var n,s,r,i,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={rfo_gangguan_id:a.rfo_gangguan},e.next=4,y({id:Z.id_keluhan,body:n});case 4:if("success"!==(s=e.sent).data.status&&"Success"!==s.data.status){e.next=13;break}return(0,m.Z)(s),e.next=9,D(Z.id_keluhan);case 9:"success"===(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.status)||"Success"===(null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.status)?((0,m.Z)(c),setTimeout((0,l.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(),_({status:"success"});case 2:case"end":return e.stop()}}),e)}))),1e3)):(0,j.Z)(c,!0),e.next=14;break;case 13:(0,j.Z)(s,!0);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),(0,j.Z)(e.t0,!0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(a){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"fixed w-screen h-screen bg-opacity-80 bg-gray-700 top-0 pt-10 left-0 bottom-0 right-0 z-50 flex justify-center",children:(0,b.jsxs)("div",{className:"modal-box h-fit max-h-fit ".concat(u),children:[(0,b.jsx)(p.b_,{onClick:z}),(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Reason For Outage Gangguan"}),(0,b.jsx)("hr",{className:"my-2"}),(0,b.jsx)("div",{className:"w-full py-5 px-5 flex w-min-full bg-blue-200 rounded-md mt-5",children:(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)("table",{className:"border-none items-center w-full",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("td",{children:"Referensi Keluhan"}),(0,b.jsx)("td",{children:":"}),(0,b.jsx)("td",{children:null===Z||void 0===Z?void 0:Z.nomor_keluhan})]}),(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("td",{children:"Pelanggan"}),(0,b.jsx)("td",{children:":"}),(0,b.jsxs)("td",{children:[null===Z||void 0===Z?void 0:Z.id_pelanggan," - ",null===Z||void 0===Z?void 0:Z.nama_pelanggan]})]}),(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("td",{children:"Kontak"}),(0,b.jsx)("td",{children:":"}),(0,b.jsxs)("td",{children:[null===Z||void 0===Z?void 0:Z.nama_pelapor," - ",null===Z||void 0===Z?void 0:Z.nomor_pelapor]})]}),(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("td",{children:"Waktu Dibuat"}),(0,b.jsx)("td",{children:":"}),(0,b.jsx)("td",{children:new Date(null===Z||void 0===Z?void 0:Z.created_at).toLocaleString("id-ID")})]}),(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("td",{children:"Waktu Diubah"}),(0,b.jsx)("td",{children:":"}),(0,b.jsx)("td",{children:(null===Z||void 0===Z?void 0:Z.balasan.length)>0?new Date(null===Z||void 0===Z||null===(a=Z.balasan[Z.balasan.length-1])||void 0===a?void 0:a.created_at).toLocaleString("id-ID"):new Date(null===Z||void 0===Z?void 0:Z.created_at).toLocaleString("id-ID")})]}),(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("td",{children:"Status Keluhan"}),(0,b.jsx)("td",{children:":"}),(0,b.jsx)("td",{children:null===Z||void 0===Z?void 0:Z.status})]})]})})})}),(0,b.jsx)(c.J9,{enableReinitialize:!0,validationSchema:f.$p,initialValues:{rfo_gangguan:""},onSubmit:function(e,a){a.resetForm;T(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,s=e.isValid,l=e.handleChange,r=e.handleBlur;return(0,b.jsxs)(c.l0,{children:[(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{htmlFor:"rfo_gangguan",className:"label",children:(0,b.jsx)("span",{className:"label-text",children:" Topik RFO Gangguan Masal"})}),(0,b.jsxs)(c.gN,{component:"select",id:"rfo_gangguan",name:"rfo_gangguan",onBlur:r,onChange:l,value:a.rfo_gangguan,className:"select w-full max-w-full input-bordered",children:[(0,b.jsx)("option",{value:"",children:"Pilih RFO Gangguan"}),null===M||void 0===M?void 0:M.map((function(e,a){return(0,b.jsx)("option",{value:e.id_rfo_gangguan,label:e.problem,children:e.problem},a)}))]}),n.rfo_gangguan&&t.rfo_gangguan?(0,b.jsx)("div",{className:"label label-text text-red-500",children:n.rfo_gangguan}):null]})}),(0,b.jsx)("hr",{className:"my-2 mt-5"}),(0,b.jsxs)("div",{className:"modal-action justify-center",children:[(0,b.jsx)(p.zx,{type:"button",onClick:function(){return z()},children:"Batal"}),(0,b.jsx)(p.zx,{type:"submit",disabled:!s,className:"btn-success",children:"Simpan"})]})]})}})]})})}}}]);
//# sourceMappingURL=422.1919c9fe.chunk.js.map