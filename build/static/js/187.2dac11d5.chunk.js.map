{"version":3,"file":"static/js/187.2dac11d5.chunk.js","mappings":"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","sources":["pages/reason_for_outage_trouble/detail_masal/RFODetailMass.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport { useRfoGangguanByIdMutation } from '../../../store/features/rfo/rfoApiSlice';\r\nimport { setRFOGangguanById } from '../../../store/features/rfo/rfoSlice';\r\nimport { selectBreadcrumb, updateBreadcrumb } from '../../../store/features/breadcrumb/breadcrumbSlice';\r\nimport { RFOMasalSchema } from '../../../utils/schema_validation_form';\r\nimport catchError from '../../../services/catchError';\r\nimport { Button, ComplainEffect, Required } from '../../../components';\r\n\r\nfunction RFODetailMass() {\r\n  const { id } = useParams();\r\n  const [rfoGangguanById, { isSuccess }] = useRfoGangguanByIdMutation();\r\n  const [detailRFOMasal, setDetailRFOMasal] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const getRFOMasalKeluhanById = async () => {\r\n    try {\r\n      const data = await rfoGangguanById(id).unwrap();\r\n      if (data.status === 'success' || data.status === 'Success') {\r\n        dispatch(setRFOGangguanById(data));\r\n        setDetailRFOMasal(data.data);\r\n      } else {\r\n        catchError(data, true);\r\n      }\r\n    } catch (error) {\r\n      catchError(error, true);\r\n    }\r\n  };\r\n\r\n  const initialValues = {\r\n    problem: detailRFOMasal?.problem || '',\r\n    action: detailRFOMasal?.action || '',\r\n    deskripsi: detailRFOMasal?.action || '',\r\n    mulai_gangguan: new Date(detailRFOMasal?.mulai_gangguan).toLocaleString() || '',\r\n    selesai_gangguan: new Date(detailRFOMasal?.selesai_gangguan).toLocaleString() || '',\r\n    nomor_tiket: detailRFOMasal?.nomor_tiket || '',\r\n    durasi: detailRFOMasal?.durasi || '',\r\n    lampiran: detailRFOMasal?.lampiran || '',\r\n  };\r\n\r\n  const navigasi = useSelector(selectBreadcrumb);\r\n\r\n  useEffect(() => {\r\n    const data = [...navigasi.data, { path: `/reason_of_outage/detail_masal/${id}`, title: 'Detail Reason For Outage' }]\r\n    dispatch(updateBreadcrumb(data))\r\n    getRFOMasalKeluhanById();\r\n  }, []);\r\n\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"flex w-full flex-col-reverse lg:flex-row gap-5\">\r\n      <div className=\"flex-1 w-full\">\r\n        <h1 className=\"text-center font-semibold\">Reason For Outage Gangguan</h1>\r\n\r\n        <Formik\r\n          enableReinitialize\r\n          validationSchema={RFOMasalSchema}\r\n          initialValues={initialValues}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur\r\n          }) => (\r\n            <Form>\r\n              <div className=\"flex flex-col gap-3\">\r\n                <div className=\"form-control\">\r\n                  <label htmlFor=\"problem\" className=\"label\">\r\n                    <span className=\"label-text\"> Masalah:</span>\r\n                  </label>\r\n\r\n                  <Field\r\n                    id=\"problem\"\r\n                    name=\"problem\"\r\n                    placeholder=\"Masalah\"\r\n                    value={values.problem}\r\n                    component=\"textarea\"\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    disabled\r\n                    className=\"textarea textarea-bordered h-24\"\r\n                  />\r\n                  {errors.problem && touched.problem && <Required errors={errors.problem} />}\r\n                </div>\r\n\r\n                <div className=\"form-control\">\r\n                  <label htmlFor=\"action\" className=\"label\">\r\n                    <span className=\"label-text\"> Aksi:</span>\r\n                  </label>\r\n\r\n                  <Field\r\n                    id=\"action\"\r\n                    name=\"action\"\r\n                    placeholder=\"Aksi\"\r\n                    value={values.action}\r\n                    component=\"textarea\"\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    disabled\r\n                    className=\"textarea textarea-bordered h-24\"\r\n                  />\r\n                  {errors.action && touched.action && <Required errors={errors.action} />}\r\n                </div>\r\n\r\n                <div className=\"form-control\">\r\n                  <label htmlFor=\"deskripsi\" className=\"label\">\r\n                    <span className=\"label-text\"> Deskripsi:</span>\r\n                  </label>\r\n\r\n                  <Field\r\n                    id=\"deskripsi\"\r\n                    name=\"deskripsi\"\r\n                    placeholder=\"Deskripsi\"\r\n                    value={values.deskripsi}\r\n                    component=\"textarea\"\r\n                    onBlur={handleBlur}\r\n                    disabled\r\n                    onChange={handleChange}\r\n                    className=\"textarea textarea-bordered h-24\"\r\n                  />\r\n                  {errors.deskripsi && touched.deskripsi && <Required errors={errors.deskripsi} />}\r\n                </div>\r\n\r\n                <div className=\"flex flex-col lg:flex-row gap-5\">\r\n                  <div className=\"form-control flex-1\">\r\n                    <label htmlFor=\"mulai_gangguan\" className=\"label\">\r\n                      <span className=\"label-text\"> Waktu Mulai Keluhan</span>\r\n                    </label>\r\n\r\n                    <Field\r\n                      id=\"mulai_gangguan\"\r\n                      name=\"mulai_gangguan\"\r\n                      placeholder=\"\"\r\n                      value={values.mulai_gangguan}\r\n                      type=\"text\"\r\n                      onBlur={handleBlur}\r\n                      onChange={handleChange}\r\n                      disabled\r\n                      className=\"input input-md input-bordered  max-w-full\"\r\n                    />\r\n                    {errors.mulai_gangguan && touched.mulai_gangguan && <Required errors={errors.mulai_gangguan} />}\r\n                  </div>\r\n\r\n                  <div className=\"form-control flex-1\">\r\n                    <label htmlFor=\"selesai_gangguan\" className=\"label\">\r\n                      <span className=\"label-text\">\r\n\r\n                        Waktu Selesai Keluhan\r\n                      </span>\r\n                    </label>\r\n\r\n                    <Field\r\n                      id=\"selesai_gangguan\"\r\n                      name=\"selesai_gangguan\"\r\n                      placeholder=\"\"\r\n                      value={values.selesai_gangguan}\r\n                      type=\"text\"\r\n                      onBlur={handleBlur}\r\n                      onChange={handleChange}\r\n                      disabled\r\n                      className=\"input input-md input-bordered  max-w-full\"\r\n                    />\r\n                    {errors.selesai_gangguan && touched.selesai_gangguan && <Required errors={errors.selesai_gangguan} />}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex gap-3 mt-2\">\r\n                <div className=\"form-control flex-1\">\r\n                  <label htmlFor=\"nomor_tiket\" className=\"label\">\r\n                    <span className=\"label-text\">\r\n\r\n                      Tiket Pelaporan (Opsional)\r\n                    </span>\r\n                  </label>\r\n\r\n                  <Field\r\n                    id=\"nomor_tiket\"\r\n                    name=\"nomor_tiket\"\r\n                    placeholder=\"\"\r\n                    value={values.nomor_tiket}\r\n                    type=\"text\"\r\n                    disabled\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    className=\"input input-md input-bordered  max-w-full\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"modal-action justify-center mt-10\">\r\n                <Button type=\"button\" className=\"mr-5\" onClick={() => navigate(-1)} >Kembali</Button>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n\r\n      <div className=\" border-gray-100 border-2\" />\r\n\r\n      <div className=\"flex-1 w-full\">\r\n        <h1 className=\"text-center font-semibold\">\r\n          Daftar Data Keluhan Terdampak\r\n        </h1>\r\n\r\n        <div className=\"w-full overflow-auto mt-6\" style={{ height: '35rem' }}>\r\n          {isSuccess && detailRFOMasal?.keluhan.map((item, index) => (\r\n            <ComplainEffect key={index} item={item} />\r\n          ))}\r\n          {isSuccess && detailRFOMasal?.keluhan.length === 0 && (\r\n            <div className=\"border-2 border-gray-100 rounded-md mt-3 p-3 text-center\">\r\n              <p>Tidak ada keluhan terdampak</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RFODetailMass;\r\n"],"names":["id","useParams","useRfoGangguanByIdMutation","rfoGangguanById","isSuccess","useState","detailRFOMasal","setDetailRFOMasal","dispatch","useDispatch","getRFOMasalKeluhanById","unwrap","data","status","setRFOGangguanById","catchError","initialValues","problem","action","deskripsi","mulai_gangguan","Date","toLocaleString","selesai_gangguan","nomor_tiket","durasi","lampiran","navigasi","useSelector","selectBreadcrumb","useEffect","path","title","updateBreadcrumb","navigate","useNavigate","className","enableReinitialize","validationSchema","RFOMasalSchema","values","errors","touched","handleChange","handleBlur","htmlFor","name","placeholder","value","component","onBlur","onChange","disabled","type","onClick","style","height","keluhan","map","item","index","length"],"sourceRoot":""}